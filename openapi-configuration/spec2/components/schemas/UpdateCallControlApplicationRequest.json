{
  "type": "object",
  "title": "Update Call Control Application Request",
  "required": [
    "application_name",
    "webhook_event_url"
  ],
  "properties": {
    "application_name": {
      "type": "string",
      "description": "A user-assigned name to help manage the application.",
      "example": "call-router"
    },
    "webhook_event_url": {
      "type": "string",
      "format": "url",
      "description": "The URL where webhooks related to this connection will be sent. Must include a scheme, such as 'https'.",
      "example": "https://example.com"
    },
    "active": {
      "type": "boolean",
      "description": "Specifies whether the connection can be used.",
      "default": true
    },
    "anchorsite_override": {
      "type": "string",
      "description": "<code>Latency</code> directs Telnyx to route media through the site with the lowest round-trip time to the user's connection. Telnyx calculates this time using ICMP ping messages. This can be disabled by specifying a site to handle all media.\n",
      "enum": [
        "\"Latency\"",
        "\"Chicago, IL\"",
        "\"Ashburn, VA\"",
        "\"San Jose, CA\""
      ],
      "example": "\"Amsterdam, Netherlands\"",
      "default": "\"Latency\""
    },
    "dtmf_type": {
      "type": "string",
      "description": "Sets the type of DTMF digits sent from Telnyx to this Connection. Note that DTMF digits sent to Telnyx will be accepted in all formats.",
      "enum": [
        "RFC 2833",
        "Inband",
        "SIP INFO"
      ],
      "example": "Inband",
      "default": "RFC 2833"
    },
    "first_command_timeout": {
      "type": "boolean",
      "description": "Specifies whether calls to phone numbers associated with this connection should hangup after timing out.",
      "example": true,
      "default": false
    },
    "first_command_timeout_secs": {
      "type": "integer",
      "description": "Specifies how many seconds to wait before timing out a dial command.",
      "example": 10,
      "default": 30
    },
    "inbound": {
      "$ref": "./CallControlApplicationInbound.json"
    },
    "outbound": {
      "$ref": "./CallControlApplicationOutbound.json"
    },
    "webhook_api_version": {
      "type": "string",
      "description": "Determines which webhook format will be used, Telnyx API v1 or v2.",
      "enum": [
        "1",
        "2"
      ],
      "example": "1",
      "default": "1"
    },
    "webhook_event_failover_url": {
      "type": "string",
      "format": "url",
      "description": "The failover URL where webhooks related to this connection will be sent if sending to the primary URL fails. Must include a scheme, such as 'https'.",
      "example": "https://failover.example.com",
      "nullable": true,
      "default": ""
    },
    "webhook_timeout_secs": {
      "type": "integer",
      "minimum": 0,
      "maximum": 30,
      "description": "Specifies how many seconds to wait before timing out a webhook.",
      "example": 25,
      "default": null,
      "nullable": true
    }
  },
  "example": {
    "application_name": "call-router",
    "webhook_event_url": "https://example.com",
    "active": false,
    "anchorsite_override": "\"Latency\"",
    "dtmf_type": "Inband",
    "first_command_timeout": true,
    "first_command_timeout_secs": 10,
    "inbound": {
      "channel_limit": 10,
      "shaken_stir_enabled": true,
      "sip_subdomain": "example",
      "sip_subdomain_receive_settings": "only_my_connections"
    },
    "outbound": {
      "channel_limit": 10,
      "outbound_voice_profile_id": "1293384261075731499"
    },
    "webhook_api_version": "1",
    "webhook_event_failover_url": "https://failover.example.com",
    "webhook_timeout_secs": 25
  }
}