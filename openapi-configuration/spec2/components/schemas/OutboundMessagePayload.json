{
  "type": "object",
  "properties": {
    "record_type": {
      "type": "string",
      "example": "message",
      "enum": [
        "message"
      ],
      "description": "Identifies the type of the resource."
    },
    "direction": {
      "type": "string",
      "example": "outbound",
      "enum": [
        "outbound"
      ],
      "description": "The direction of the message. Inbound messages are sent to you whereas outbound messages are sent from you."
    },
    "id": {
      "type": "string",
      "format": "uuid",
      "description": "Identifies the type of resource."
    },
    "type": {
      "type": "string",
      "enum": [
        "SMS",
        "MMS"
      ],
      "description": "The type of message."
    },
    "messaging_profile_id": {
      "type": "string",
      "description": "Unique identifier for a messaging profile."
    },
    "organization_id": {
      "type": "string",
      "format": "uuid",
      "description": "The id of the organization the messaging profile belongs to."
    },
    "from": {
      "type": "object",
      "properties": {
        "phone_number": {
          "type": "string",
          "format": "address",
          "description": "Sending address (+E.164 formatted phone number, alphanumeric sender ID, or short code)."
        },
        "carrier": {
          "type": "string",
          "description": "The carrier of the receiver."
        },
        "line_type": {
          "type": "string",
          "description": "The line-type of the receiver.",
          "enum": [
            "Wireline",
            "Wireless",
            "VoWiFi",
            "VoIP",
            "Pre-Paid Wireless",
            ""
          ]
        }
      }
    },
    "to": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "phone_number": {
            "type": "string",
            "format": "address",
            "description": "Receiving address (+E.164 formatted phone number or short code)."
          },
          "status": {
            "type": "string",
            "description": "The delivery status of the message.",
            "enum": [
              "queued",
              "sending",
              "sent",
              "expired",
              "sending_failed",
              "delivery_unconfirmed",
              "delivered",
              "delivery_failed"
            ]
          },
          "carrier": {
            "type": "string",
            "description": "The carrier of the receiver."
          },
          "line_type": {
            "type": "string",
            "description": "The line-type of the receiver.",
            "enum": [
              "Wireline",
              "Wireless",
              "VoWiFi",
              "VoIP",
              "Pre-Paid Wireless",
              ""
            ]
          }
        }
      }
    },
    "text": {
      "type": "string",
      "description": "Message body (i.e., content) as a non-empty string.\n\n**Required for SMS**"
    },
    "subject": {
      "type": "string",
      "nullable": true,
      "description": "Subject of multimedia message"
    },
    "media": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "format": "url",
            "description": "The url of the media requested to be sent."
          },
          "content_type": {
            "type": "string",
            "format": "mime-type",
            "nullable": true,
            "description": "The MIME type of the requested media."
          },
          "sha256": {
            "type": "string",
            "nullable": true,
            "description": "The SHA256 hash of the requested media."
          },
          "size": {
            "type": "integer",
            "nullable": true,
            "description": "The size of the requested media."
          }
        }
      }
    },
    "webhook_url": {
      "type": "string",
      "format": "url",
      "nullable": true,
      "description": "The URL where webhooks related to this message will be sent."
    },
    "webhook_failover_url": {
      "type": "string",
      "format": "url",
      "nullable": true,
      "description": "The failover URL where webhooks related to this message will be sent if sending to the primary URL fails."
    },
    "encoding": {
      "type": "string",
      "description": "Encoding scheme used for the message body."
    },
    "parts": {
      "type": "integer",
      "minimum": 1,
      "maximum": 10,
      "description": "Number of parts into which the message's body must be split."
    },
    "tags": {
      "type": "array",
      "description": "Tags associated with the resource.",
      "items": {
        "type": "string"
      }
    },
    "cost": {
      "type": "object",
      "nullable": true,
      "properties": {
        "amount": {
          "type": "string",
          "format": "decimal",
          "description": "The amount deducted from your account."
        },
        "currency": {
          "type": "string",
          "format": "iso4217",
          "description": "The ISO 4217 currency identifier."
        }
      }
    },
    "received_at": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 formatted date indicating when the message request was received."
    },
    "sent_at": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 formatted date indicating when the message was sent."
    },
    "completed_at": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 formatted date indicating when the message was finalized."
    },
    "valid_until": {
      "type": "string",
      "description": "Message must be out of the queue by this time or else it will be discarded and marked as 'sending_failed'. Once the message moves out of the queue, this field will be nulled",
      "format": "date-time",
      "nullable": true
    },
    "errors": {
      "type": "array",
      "description": "These errors may point at addressees when referring to unsuccessful/unconfirmed delivery statuses.",
      "items": {
        "$ref": "./Error.json"
      }
    }
  },
  "example": {
    "record_type": "message",
    "direction": "outbound",
    "id": "40385f64-5717-4562-b3fc-2c963f66afa6",
    "type": "MMS",
    "messaging_profile_id": "4000eba1-a0c0-4563-9925-b25e842a7cb6",
    "organization_id": "b448f9cc-a842-4784-98e9-03c1a5872950",
    "from": {
      "phone_number": "+18445550001",
      "carrier": "TELNYX LLC",
      "line_type": "VoIP"
    },
    "to": [
      {
        "phone_number": "+18665550001",
        "status": "queued",
        "carrier": "T-MOBILE USA, INC.",
        "line_type": "Wireless"
      }
    ],
    "text": "Hello, World!",
    "subject": "From Telnyx!",
    "media": [
      {
        "url": "https://pbs.twimg.com/profile_images/1142168442042118144/AW3F4fFD_400x400.png",
        "content_type": null,
        "sha256": null,
        "size": null
      }
    ],
    "webhook_url": "https://www.example.com/hooks",
    "webhook_failover_url": "https://backup.example.com/hooks",
    "encoding": "GSM-7",
    "parts": 1,
    "tags": [
      "Greetings"
    ],
    "cost": null,
    "received_at": "2019-01-23T18:10:02.574Z",
    "sent_at": null,
    "completed_at": null,
    "valid_until": null,
    "errors": []
  }
}