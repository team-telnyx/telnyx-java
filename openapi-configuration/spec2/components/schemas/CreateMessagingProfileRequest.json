{
  "type": "object",
  "required": [
    "name",
    "whitelisted_destinations"
  ],
  "properties": {
    "name": {
      "description": "A user friendly name for the messaging profile.",
      "type": "string"
    },
    "whitelisted_destinations": {
      "description": "Destinations to which the messaging profile is allowed to send. The elements in the list must be valid ISO 3166-1 alpha-2 country codes. If set to `[\"*\"]` all destinations will be allowed.",
      "type": "array",
      "items": {
        "description": "ISO 3166-1 alpha-2 country code.",
        "type": "string",
        "pattern": "^[A-Z]{2}$"
      }
    },
    "enabled": {
      "description": "Specifies whether the messaging profile is enabled or not.",
      "type": "boolean",
      "default": true
    },
    "webhook_url": {
      "description": "The URL where webhooks related to this messaging profile will be sent.",
      "type": "string",
      "format": "url",
      "default": "",
      "nullable": true
    },
    "webhook_failover_url": {
      "description": "The failover URL where webhooks related to this messaging profile will be sent if sending to the primary URL fails.",
      "type": "string",
      "format": "url",
      "default": "",
      "nullable": true
    },
    "webhook_api_version": {
      "description": "Determines which webhook format will be used, Telnyx API v1, v2, or a legacy 2010-04-01 format.",
      "type": "string",
      "enum": [
        "1",
        "2",
        "2010-04-01"
      ],
      "default": "2"
    },
    "number_pool_settings": {
      "$ref": "./NumberPoolSettings.json"
    },
    "url_shortener_settings": {
      "$ref": "./UrlShortenerSettings.json"
    },
    "alpha_sender": {
      "description": "The alphanumeric sender ID to use when sending to destinations that require an alphanumeric sender ID.",
      "type": "string",
      "pattern": "^[A-Za-z0-9 ]{1,11}$",
      "nullable": true
    },
    "daily_spend_limit": {
      "description": "The maximum amount of money (in USD) that can be spent by this profile before midnight UTC.",
      "type": "string",
      "pattern": "^[0-9]+(?:\\.[0-9]+)?$"
    },
    "daily_spend_limit_enabled": {
      "description": "Whether to enforce the value configured by `daily_spend_limit`.",
      "type": "boolean"
    },
    "mms_fall_back_to_sms": {
      "description": "enables SMS fallback for MMS messages.",
      "type": "boolean",
      "default": false
    },
    "mms_transcoding": {
      "description": "enables automated resizing of MMS media.",
      "type": "boolean",
      "default": false
    }
  },
  "example": {
    "name": "My name",
    "enabled": true,
    "webhook_url": "https://www.example.com/hooks",
    "webhook_failover_url": "https://backup.example.com/hooks",
    "webhook_api_version": "2",
    "number_pool_settings": {
      "toll_free_weight": 10,
      "long_code_weight": 1,
      "skip_unhealthy": true,
      "sticky_sender": false,
      "geomatch": false
    },
    "url_shortener_settings": {
      "domain": "example.ex",
      "prefix": "",
      "replace_blacklist_only": true,
      "send_webhooks": false
    },
    "whitelisted_destinations": [
      "US"
    ]
  }
}