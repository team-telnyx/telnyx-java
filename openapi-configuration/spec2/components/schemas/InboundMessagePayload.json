{
  "properties": {
    "record_type": {
      "type": "string",
      "example": "message",
      "enum": [
        "message"
      ],
      "description": "Identifies the type of the resource."
    },
    "direction": {
      "type": "string",
      "example": "inbound",
      "enum": [
        "inbound"
      ],
      "description": "The direction of the message. Inbound messages are sent to you whereas outbound messages are sent from you."
    },
    "id": {
      "type": "string",
      "format": "uuid",
      "description": "Identifies the type of resource."
    },
    "type": {
      "type": "string",
      "enum": [
        "SMS",
        "MMS"
      ],
      "description": "The type of message. This value can be either 'sms' or 'mms'."
    },
    "messaging_profile_id": {
      "type": "string",
      "description": "Unique identifier for a messaging profile."
    },
    "to": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "phone_number": {
            "type": "string",
            "format": "address",
            "description": "Receiving address (+E.164 formatted phone number or short code)."
          },
          "status": {
            "type": "string",
            "enum": [
              "queued",
              "sending",
              "sent",
              "delivered",
              "sending_failed",
              "delivery_failed",
              "delivery_unconfirmed",
              "webhook_delivered"
            ]
          },
          "carrier": {
            "type": "string",
            "description": "The carrier of the receiver."
          },
          "line_type": {
            "type": "string",
            "description": "The line-type of the receiver.",
            "enum": [
              "Wireline",
              "Wireless",
              "VoWiFi",
              "VoIP",
              "Pre-Paid Wireless",
              ""
            ]
          }
        }
      }
    },
    "cc": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "phone_number": {
            "type": "string",
            "format": "address",
            "description": "Receiving address (+E.164 formatted phone number or short code)."
          },
          "status": {
            "type": "string",
            "enum": [
              "queued",
              "sending",
              "sent",
              "delivered",
              "sending_failed",
              "delivery_failed",
              "delivery_unconfirmed"
            ]
          },
          "carrier": {
            "type": "string",
            "description": "The carrier of the receiver."
          },
          "line_type": {
            "type": "string",
            "description": "The line-type of the receiver.",
            "enum": [
              "Wireline",
              "Wireless",
              "VoWiFi",
              "VoIP",
              "Pre-Paid Wireless",
              ""
            ]
          }
        }
      }
    },
    "from": {
      "type": "object",
      "properties": {
        "phone_number": {
          "type": "string",
          "format": "address",
          "description": "Sending address (+E.164 formatted phone number, alphanumeric sender ID, or short code)."
        },
        "status": {
          "type": "string",
          "enum": [
            "received",
            "delivered"
          ]
        },
        "carrier": {
          "type": "string",
          "description": "The carrier of the sender."
        },
        "line_type": {
          "type": "string",
          "description": "The line-type of the sender.",
          "enum": [
            "Wireline",
            "Wireless",
            "VoWiFi",
            "VoIP",
            "Pre-Paid Wireless",
            ""
          ]
        }
      }
    },
    "text": {
      "type": "string",
      "description": "Message body (i.e., content) as a non-empty string.\n\n**Required for SMS**"
    },
    "media": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "format": "url",
            "description": "The url of the media requested to be sent."
          },
          "content_type": {
            "type": "string",
            "format": "mime-type",
            "description": "The MIME type of the requested media."
          },
          "size": {
            "type": "integer",
            "description": "The size of the requested media."
          },
          "hash_sha256": {
            "type": "string",
            "minLength": 32,
            "maxLength": 32,
            "description": "The SHA256 hash of the requested media."
          }
        }
      }
    },
    "webhook_url": {
      "type": "string",
      "format": "url",
      "nullable": true,
      "description": "The URL where webhooks related to this message will be sent."
    },
    "webhook_failover_url": {
      "type": "string",
      "format": "url",
      "nullable": true,
      "description": "The failover URL where webhooks related to this message will be sent if sending to the primary URL fails."
    },
    "encoding": {
      "type": "string",
      "description": "Encoding scheme used for the message body."
    },
    "parts": {
      "type": "integer",
      "minimum": 1,
      "maximum": 10,
      "description": "Number of parts into which the message's body must be split."
    },
    "tags": {
      "type": "array",
      "description": "Tags associated with the resource.",
      "items": {
        "type": "string"
      }
    },
    "cost": {
      "type": "object",
      "nullable": true,
      "properties": {
        "amount": {
          "type": "string",
          "format": "decimal",
          "description": "The amount deducted from your account."
        },
        "currency": {
          "type": "string",
          "format": "iso4217",
          "description": "The ISO 4217 currency identifier."
        }
      }
    },
    "received_at": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 formatted date indicating when the message request was received."
    },
    "sent_at": {
      "type": "string",
      "format": "date-time",
      "nullable": true,
      "description": "Not used for inbound messages."
    },
    "completed_at": {
      "type": "string",
      "format": "date-time",
      "nullable": true,
      "description": "Not used for inbound messages."
    },
    "valid_until": {
      "type": "string",
      "description": "Not used for inbound messages.",
      "format": "date-time",
      "nullable": true
    },
    "errors": {
      "type": "array",
      "description": "These errors may point at addressees when referring to unsuccessful/unconfirmed delivery statuses.",
      "items": {
        "$ref": "./Error.json"
      }
    }
  },
  "example": {
    "record_type": "message",
    "direction": "inbound",
    "id": "7ee4241c-f127-47e5-9c34-3aac291f8058",
    "type": "SMS",
    "messaging_profile_id": "0f512bda-ae1e-4597-8e11-e5f5686b97d3",
    "organization_id": "b448f9cc-a842-4784-98e9-03c1a5872950",
    "from": {
      "phone_number": "+18665550001",
      "status": "delivered",
      "carrier": "T-MOBILE USA, INC.",
      "line_type": "Wireless"
    },
    "to": [
      {
        "phone_number": "+18445550001",
        "status": "delivered",
        "carrier": "TELNYX LLC",
        "line_type": "VoIP"
      }
    ],
    "text": "Hello, World!",
    "subject": "From Telnyx!",
    "media": [],
    "webhook_url": "https://www.example.com/hooks",
    "webhook_failover_url": "https://backup.example.com/hooks",
    "encoding": "GSM-7",
    "parts": 1,
    "tags": [
      "Greetings"
    ],
    "cost": null,
    "received_at": "2019-01-23T18:10:02.574Z",
    "sent_at": null,
    "completed_at": null,
    "valid_until": null,
    "errors": []
  }
}