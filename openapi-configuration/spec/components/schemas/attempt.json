{
  "description": "Webhook delivery attempt details.",
  "properties": {
    "status": {
      "type": "string",
      "enum": [
        "delivered",
        "failed"
      ]
    },
    "started_at": {
      "description": "ISO 8601 timestamp indicating when the attempt was initiated.",
      "type": "string",
      "format": "date-time"
    },
    "finished_at": {
      "description": "ISO 8601 timestamp indicating when the attempt has finished.",
      "type": "string",
      "format": "date-time"
    },
    "http": {
      "$ref": "./http.json"
    },
    "errors": {
      "description": "Webhook delivery error codes.",
      "type": "array",
      "items": {
        "type": "integer"
      }
    }
  },
  "example": [
    {
      "status": "delivered",
      "started_at": "2020-08-10T14:00:05.364Z",
      "finished_at": "2020-08-10T14:00:05.595Z",
      "http": {
        "request": {
          "url": "https://fallback.example.com/webhooks",
          "headers": [
            "Accept: */*"
          ]
        },
        "response": {
          "status": 200,
          "headers": [
            "Content-Type: text/html"
          ],
          "body": "All good."
        }
      }
    },
    {
      "status": "failed",
      "started_at": "2020-08-10T14:00:05.004Z",
      "finished_at": "2020-08-10T14:00:05.360Z",
      "http": {
        "request": {
          "url": "https://typo.example.com/webhooks",
          "headers": [
            "Accept: */*"
          ]
        },
        "response": {
          "status": 404,
          "headers": [
            "Content-Type: text/html",
            "Pragma: no-cache"
          ],
          "body": "Oops. Not found."
        }
      },
      "errors": [
        {
          "code": "75499",
          "title": "Webhook host returned HTTP 4XX",
          "detail": "The server returned another HTTP 4XX error"
        }
      ]
    },
    {
      "status": "failed",
      "started_at": "2020-08-10T14:00:00.000Z",
      "finished_at": "2020-08-10T14:00:05.000Z",
      "http": {
        "request": {
          "url": "https://slow.example.com/webhooks",
          "headers": [
            "Accept: */*"
          ]
        },
        "reponse": null
      },
      "errors": [
        {
          "code": "75001",
          "title": "Could not resolve name",
          "detail": "Unable to resolve the webhook URL domain name"
        }
      ]
    }
  ]
}