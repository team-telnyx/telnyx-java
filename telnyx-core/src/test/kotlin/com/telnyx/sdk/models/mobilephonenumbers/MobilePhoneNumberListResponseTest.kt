// File generated from our OpenAPI spec by Stainless.

package com.telnyx.sdk.models.mobilephonenumbers

import com.fasterxml.jackson.module.kotlin.jacksonTypeRef
import com.telnyx.sdk.core.jsonMapper
import java.time.OffsetDateTime
import kotlin.jvm.optionals.getOrNull
import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test

internal class MobilePhoneNumberListResponseTest {

    @Test
    fun create() {
        val mobilePhoneNumberListResponse =
            MobilePhoneNumberListResponse.builder()
                .addData(
                    MobilePhoneNumberListResponse.Data.builder()
                        .id("id")
                        .callForwarding(
                            MobilePhoneNumberListResponse.Data.CallForwarding.builder()
                                .callForwardingEnabled(true)
                                .forwardingType(
                                    MobilePhoneNumberListResponse.Data.CallForwarding.ForwardingType
                                        .ALWAYS
                                )
                                .forwardsTo("forwards_to")
                                .build()
                        )
                        .callRecording(
                            MobilePhoneNumberListResponse.Data.CallRecording.builder()
                                .inboundCallRecordingChannels(
                                    MobilePhoneNumberListResponse.Data.CallRecording
                                        .InboundCallRecordingChannels
                                        .SINGLE
                                )
                                .inboundCallRecordingEnabled(true)
                                .inboundCallRecordingFormat(
                                    MobilePhoneNumberListResponse.Data.CallRecording
                                        .InboundCallRecordingFormat
                                        .WAV
                                )
                                .build()
                        )
                        .callerIdNameEnabled(true)
                        .cnamListing(
                            MobilePhoneNumberListResponse.Data.CnamListing.builder()
                                .cnamListingDetails("cnam_listing_details")
                                .cnamListingEnabled(true)
                                .build()
                        )
                        .connectionId("connection_id")
                        .connectionName("connection_name")
                        .connectionType("connection_type")
                        .countryIsoAlpha2("country_iso_alpha2")
                        .createdAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                        .customerReference("customer_reference")
                        .inbound(
                            MobilePhoneNumberListResponse.Data.Inbound.builder()
                                .interceptionAppId("interception_app_id")
                                .interceptionAppName("interception_app_name")
                                .build()
                        )
                        .inboundCallScreening(
                            MobilePhoneNumberListResponse.Data.InboundCallScreening.DISABLED
                        )
                        .mobileVoiceEnabled(true)
                        .noiseSuppression(
                            MobilePhoneNumberListResponse.Data.NoiseSuppression.INBOUND
                        )
                        .outbound(
                            MobilePhoneNumberListResponse.Data.Outbound.builder()
                                .interceptionAppId("interception_app_id")
                                .interceptionAppName("interception_app_name")
                                .build()
                        )
                        .phoneNumber("phone_number")
                        .recordType("mobile_phone_number")
                        .simCardId("182bd5e5-6e1a-4fe4-a799-aa6d9a6ab26e")
                        .status("status")
                        .addTag("string")
                        .updatedAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                        .build()
                )
                .meta(
                    MobilePhoneNumberListResponse.Meta.builder()
                        .pageNumber(0L)
                        .pageSize(0L)
                        .totalPages(0L)
                        .totalResults(0L)
                        .build()
                )
                .build()

        assertThat(mobilePhoneNumberListResponse.data().getOrNull())
            .containsExactly(
                MobilePhoneNumberListResponse.Data.builder()
                    .id("id")
                    .callForwarding(
                        MobilePhoneNumberListResponse.Data.CallForwarding.builder()
                            .callForwardingEnabled(true)
                            .forwardingType(
                                MobilePhoneNumberListResponse.Data.CallForwarding.ForwardingType
                                    .ALWAYS
                            )
                            .forwardsTo("forwards_to")
                            .build()
                    )
                    .callRecording(
                        MobilePhoneNumberListResponse.Data.CallRecording.builder()
                            .inboundCallRecordingChannels(
                                MobilePhoneNumberListResponse.Data.CallRecording
                                    .InboundCallRecordingChannels
                                    .SINGLE
                            )
                            .inboundCallRecordingEnabled(true)
                            .inboundCallRecordingFormat(
                                MobilePhoneNumberListResponse.Data.CallRecording
                                    .InboundCallRecordingFormat
                                    .WAV
                            )
                            .build()
                    )
                    .callerIdNameEnabled(true)
                    .cnamListing(
                        MobilePhoneNumberListResponse.Data.CnamListing.builder()
                            .cnamListingDetails("cnam_listing_details")
                            .cnamListingEnabled(true)
                            .build()
                    )
                    .connectionId("connection_id")
                    .connectionName("connection_name")
                    .connectionType("connection_type")
                    .countryIsoAlpha2("country_iso_alpha2")
                    .createdAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                    .customerReference("customer_reference")
                    .inbound(
                        MobilePhoneNumberListResponse.Data.Inbound.builder()
                            .interceptionAppId("interception_app_id")
                            .interceptionAppName("interception_app_name")
                            .build()
                    )
                    .inboundCallScreening(
                        MobilePhoneNumberListResponse.Data.InboundCallScreening.DISABLED
                    )
                    .mobileVoiceEnabled(true)
                    .noiseSuppression(MobilePhoneNumberListResponse.Data.NoiseSuppression.INBOUND)
                    .outbound(
                        MobilePhoneNumberListResponse.Data.Outbound.builder()
                            .interceptionAppId("interception_app_id")
                            .interceptionAppName("interception_app_name")
                            .build()
                    )
                    .phoneNumber("phone_number")
                    .recordType("mobile_phone_number")
                    .simCardId("182bd5e5-6e1a-4fe4-a799-aa6d9a6ab26e")
                    .status("status")
                    .addTag("string")
                    .updatedAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                    .build()
            )
        assertThat(mobilePhoneNumberListResponse.meta())
            .contains(
                MobilePhoneNumberListResponse.Meta.builder()
                    .pageNumber(0L)
                    .pageSize(0L)
                    .totalPages(0L)
                    .totalResults(0L)
                    .build()
            )
    }

    @Test
    fun roundtrip() {
        val jsonMapper = jsonMapper()
        val mobilePhoneNumberListResponse =
            MobilePhoneNumberListResponse.builder()
                .addData(
                    MobilePhoneNumberListResponse.Data.builder()
                        .id("id")
                        .callForwarding(
                            MobilePhoneNumberListResponse.Data.CallForwarding.builder()
                                .callForwardingEnabled(true)
                                .forwardingType(
                                    MobilePhoneNumberListResponse.Data.CallForwarding.ForwardingType
                                        .ALWAYS
                                )
                                .forwardsTo("forwards_to")
                                .build()
                        )
                        .callRecording(
                            MobilePhoneNumberListResponse.Data.CallRecording.builder()
                                .inboundCallRecordingChannels(
                                    MobilePhoneNumberListResponse.Data.CallRecording
                                        .InboundCallRecordingChannels
                                        .SINGLE
                                )
                                .inboundCallRecordingEnabled(true)
                                .inboundCallRecordingFormat(
                                    MobilePhoneNumberListResponse.Data.CallRecording
                                        .InboundCallRecordingFormat
                                        .WAV
                                )
                                .build()
                        )
                        .callerIdNameEnabled(true)
                        .cnamListing(
                            MobilePhoneNumberListResponse.Data.CnamListing.builder()
                                .cnamListingDetails("cnam_listing_details")
                                .cnamListingEnabled(true)
                                .build()
                        )
                        .connectionId("connection_id")
                        .connectionName("connection_name")
                        .connectionType("connection_type")
                        .countryIsoAlpha2("country_iso_alpha2")
                        .createdAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                        .customerReference("customer_reference")
                        .inbound(
                            MobilePhoneNumberListResponse.Data.Inbound.builder()
                                .interceptionAppId("interception_app_id")
                                .interceptionAppName("interception_app_name")
                                .build()
                        )
                        .inboundCallScreening(
                            MobilePhoneNumberListResponse.Data.InboundCallScreening.DISABLED
                        )
                        .mobileVoiceEnabled(true)
                        .noiseSuppression(
                            MobilePhoneNumberListResponse.Data.NoiseSuppression.INBOUND
                        )
                        .outbound(
                            MobilePhoneNumberListResponse.Data.Outbound.builder()
                                .interceptionAppId("interception_app_id")
                                .interceptionAppName("interception_app_name")
                                .build()
                        )
                        .phoneNumber("phone_number")
                        .recordType("mobile_phone_number")
                        .simCardId("182bd5e5-6e1a-4fe4-a799-aa6d9a6ab26e")
                        .status("status")
                        .addTag("string")
                        .updatedAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                        .build()
                )
                .meta(
                    MobilePhoneNumberListResponse.Meta.builder()
                        .pageNumber(0L)
                        .pageSize(0L)
                        .totalPages(0L)
                        .totalResults(0L)
                        .build()
                )
                .build()

        val roundtrippedMobilePhoneNumberListResponse =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(mobilePhoneNumberListResponse),
                jacksonTypeRef<MobilePhoneNumberListResponse>(),
            )

        assertThat(roundtrippedMobilePhoneNumberListResponse)
            .isEqualTo(mobilePhoneNumberListResponse)
    }
}
