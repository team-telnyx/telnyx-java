// File generated from our OpenAPI spec by Stainless.

package com.telnyx.sdk.models.webhooks

import com.fasterxml.jackson.module.kotlin.jacksonTypeRef
import com.telnyx.sdk.core.JsonValue
import com.telnyx.sdk.core.jsonMapper
import com.telnyx.sdk.errors.TelnyxInvalidDataException
import com.telnyx.sdk.models.SubNumberOrderRegulatoryRequirementWithValue
import com.telnyx.sdk.models.calls.CustomSipHeader
import com.telnyx.sdk.models.calls.SipHeader
import com.telnyx.sdk.models.messages.MessagingError
import com.telnyx.sdk.models.messages.OutboundMessagePayload
import com.telnyx.sdk.models.numberorders.NumberOrderWithPhoneNumbers
import com.telnyx.sdk.models.numberorders.PhoneNumber
import java.time.OffsetDateTime
import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test
import org.junit.jupiter.api.assertThrows
import org.junit.jupiter.params.ParameterizedTest
import org.junit.jupiter.params.provider.EnumSource

internal class UnsafeUnwrapWebhookEventTest {

    @Test
    fun ofCallAiGatherEnded() {
        val callAiGatherEnded =
            CallAiGatherEndedWebhookEvent.builder()
                .data(
                    CallAiGatherEndedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            CallAiGatherEndedWebhookEvent.Data.EventType.CALL_AI_GATHER_ENDED
                        )
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallAiGatherEndedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v2:T02llQxIyaRkhfRKxgAP8nY511EhFLizdvdUKJiSw8d6A9BborherQ"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .from("+35319605860")
                                .addMessageHistory(
                                    CallAiGatherEndedWebhookEvent.Data.Payload.MessageHistory
                                        .builder()
                                        .content(
                                            "Hello, can you tell me your age and where you live?"
                                        )
                                        .role(
                                            CallAiGatherEndedWebhookEvent.Data.Payload
                                                .MessageHistory
                                                .Role
                                                .ASSISTANT
                                        )
                                        .build()
                                )
                                .addMessageHistory(
                                    CallAiGatherEndedWebhookEvent.Data.Payload.MessageHistory
                                        .builder()
                                        .content("Hello, I am 29 and I live in Paris?")
                                        .role(
                                            CallAiGatherEndedWebhookEvent.Data.Payload
                                                .MessageHistory
                                                .Role
                                                .USER
                                        )
                                        .build()
                                )
                                .result(JsonValue.from(mapOf("age" to 29, "city" to "Paris")))
                                .status(CallAiGatherEndedWebhookEvent.Data.Payload.Status.VALID)
                                .to("+35319605860")
                                .build()
                        )
                        .recordType(CallAiGatherEndedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallAiGatherEnded(callAiGatherEnded)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).contains(callAiGatherEnded)
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallAiGatherEndedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallAiGatherEnded(
                CallAiGatherEndedWebhookEvent.builder()
                    .data(
                        CallAiGatherEndedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                CallAiGatherEndedWebhookEvent.Data.EventType.CALL_AI_GATHER_ENDED
                            )
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallAiGatherEndedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v2:T02llQxIyaRkhfRKxgAP8nY511EhFLizdvdUKJiSw8d6A9BborherQ"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .from("+35319605860")
                                    .addMessageHistory(
                                        CallAiGatherEndedWebhookEvent.Data.Payload.MessageHistory
                                            .builder()
                                            .content(
                                                "Hello, can you tell me your age and where you live?"
                                            )
                                            .role(
                                                CallAiGatherEndedWebhookEvent.Data.Payload
                                                    .MessageHistory
                                                    .Role
                                                    .ASSISTANT
                                            )
                                            .build()
                                    )
                                    .addMessageHistory(
                                        CallAiGatherEndedWebhookEvent.Data.Payload.MessageHistory
                                            .builder()
                                            .content("Hello, I am 29 and I live in Paris?")
                                            .role(
                                                CallAiGatherEndedWebhookEvent.Data.Payload
                                                    .MessageHistory
                                                    .Role
                                                    .USER
                                            )
                                            .build()
                                    )
                                    .result(JsonValue.from(mapOf("age" to 29, "city" to "Paris")))
                                    .status(CallAiGatherEndedWebhookEvent.Data.Payload.Status.VALID)
                                    .to("+35319605860")
                                    .build()
                            )
                            .recordType(CallAiGatherEndedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallAiGatherMessageHistoryUpdated() {
        val callAiGatherMessageHistoryUpdated =
            CallAiGatherMessageHistoryUpdatedWebhookEvent.builder()
                .data(
                    CallAiGatherMessageHistoryUpdatedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            CallAiGatherMessageHistoryUpdatedWebhookEvent.Data.EventType
                                .CALL_AI_GATHER_MESSAGE_HISTORY_UPDATED
                        )
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallAiGatherMessageHistoryUpdatedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v2:T02llQxIyaRkhfRKxgAP8nY511EhFLizdvdUKJiSw8d6A9BborherQ"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .from("+35319605860")
                                .addMessageHistory(
                                    CallAiGatherMessageHistoryUpdatedWebhookEvent.Data.Payload
                                        .MessageHistory
                                        .builder()
                                        .content(
                                            "Hello, can you tell me your age and where you live?"
                                        )
                                        .role(
                                            CallAiGatherMessageHistoryUpdatedWebhookEvent.Data
                                                .Payload
                                                .MessageHistory
                                                .Role
                                                .ASSISTANT
                                        )
                                        .build()
                                )
                                .addMessageHistory(
                                    CallAiGatherMessageHistoryUpdatedWebhookEvent.Data.Payload
                                        .MessageHistory
                                        .builder()
                                        .content("Hello, I'm 29 and I live in Paris?")
                                        .role(
                                            CallAiGatherMessageHistoryUpdatedWebhookEvent.Data
                                                .Payload
                                                .MessageHistory
                                                .Role
                                                .USER
                                        )
                                        .build()
                                )
                                .to("+35319605860")
                                .build()
                        )
                        .recordType(
                            CallAiGatherMessageHistoryUpdatedWebhookEvent.Data.RecordType.EVENT
                        )
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallAiGatherMessageHistoryUpdated(
                callAiGatherMessageHistoryUpdated
            )

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated())
            .contains(callAiGatherMessageHistoryUpdated)
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallAiGatherMessageHistoryUpdatedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallAiGatherMessageHistoryUpdated(
                CallAiGatherMessageHistoryUpdatedWebhookEvent.builder()
                    .data(
                        CallAiGatherMessageHistoryUpdatedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                CallAiGatherMessageHistoryUpdatedWebhookEvent.Data.EventType
                                    .CALL_AI_GATHER_MESSAGE_HISTORY_UPDATED
                            )
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallAiGatherMessageHistoryUpdatedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v2:T02llQxIyaRkhfRKxgAP8nY511EhFLizdvdUKJiSw8d6A9BborherQ"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .from("+35319605860")
                                    .addMessageHistory(
                                        CallAiGatherMessageHistoryUpdatedWebhookEvent.Data.Payload
                                            .MessageHistory
                                            .builder()
                                            .content(
                                                "Hello, can you tell me your age and where you live?"
                                            )
                                            .role(
                                                CallAiGatherMessageHistoryUpdatedWebhookEvent.Data
                                                    .Payload
                                                    .MessageHistory
                                                    .Role
                                                    .ASSISTANT
                                            )
                                            .build()
                                    )
                                    .addMessageHistory(
                                        CallAiGatherMessageHistoryUpdatedWebhookEvent.Data.Payload
                                            .MessageHistory
                                            .builder()
                                            .content("Hello, I'm 29 and I live in Paris?")
                                            .role(
                                                CallAiGatherMessageHistoryUpdatedWebhookEvent.Data
                                                    .Payload
                                                    .MessageHistory
                                                    .Role
                                                    .USER
                                            )
                                            .build()
                                    )
                                    .to("+35319605860")
                                    .build()
                            )
                            .recordType(
                                CallAiGatherMessageHistoryUpdatedWebhookEvent.Data.RecordType.EVENT
                            )
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallAiGatherPartialResults() {
        val callAiGatherPartialResults =
            CallAiGatherPartialResultsWebhookEvent.builder()
                .data(
                    CallAiGatherPartialResultsWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            CallAiGatherPartialResultsWebhookEvent.Data.EventType
                                .CALL_AI_GATHER_PARTIAL_RESULTS
                        )
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallAiGatherPartialResultsWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v2:T02llQxIyaRkhfRKxgAP8nY511EhFLizdvdUKJiSw8d6A9BborherQ"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .from("+35319605860")
                                .addMessageHistory(
                                    CallAiGatherPartialResultsWebhookEvent.Data.Payload
                                        .MessageHistory
                                        .builder()
                                        .content(
                                            "Hello, can you tell me your age and where you live?"
                                        )
                                        .role(
                                            CallAiGatherPartialResultsWebhookEvent.Data.Payload
                                                .MessageHistory
                                                .Role
                                                .ASSISTANT
                                        )
                                        .build()
                                )
                                .addMessageHistory(
                                    CallAiGatherPartialResultsWebhookEvent.Data.Payload
                                        .MessageHistory
                                        .builder()
                                        .content("Hello, I'm 29 and I live in Paris?")
                                        .role(
                                            CallAiGatherPartialResultsWebhookEvent.Data.Payload
                                                .MessageHistory
                                                .Role
                                                .USER
                                        )
                                        .build()
                                )
                                .partialResults(
                                    JsonValue.from(mapOf("age" to 29, "city" to "Paris"))
                                )
                                .to("+35319605860")
                                .build()
                        )
                        .recordType(CallAiGatherPartialResultsWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallAiGatherPartialResults(callAiGatherPartialResults)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults())
            .contains(callAiGatherPartialResults)
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallAiGatherPartialResultsRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallAiGatherPartialResults(
                CallAiGatherPartialResultsWebhookEvent.builder()
                    .data(
                        CallAiGatherPartialResultsWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                CallAiGatherPartialResultsWebhookEvent.Data.EventType
                                    .CALL_AI_GATHER_PARTIAL_RESULTS
                            )
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallAiGatherPartialResultsWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v2:T02llQxIyaRkhfRKxgAP8nY511EhFLizdvdUKJiSw8d6A9BborherQ"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .from("+35319605860")
                                    .addMessageHistory(
                                        CallAiGatherPartialResultsWebhookEvent.Data.Payload
                                            .MessageHistory
                                            .builder()
                                            .content(
                                                "Hello, can you tell me your age and where you live?"
                                            )
                                            .role(
                                                CallAiGatherPartialResultsWebhookEvent.Data.Payload
                                                    .MessageHistory
                                                    .Role
                                                    .ASSISTANT
                                            )
                                            .build()
                                    )
                                    .addMessageHistory(
                                        CallAiGatherPartialResultsWebhookEvent.Data.Payload
                                            .MessageHistory
                                            .builder()
                                            .content("Hello, I'm 29 and I live in Paris?")
                                            .role(
                                                CallAiGatherPartialResultsWebhookEvent.Data.Payload
                                                    .MessageHistory
                                                    .Role
                                                    .USER
                                            )
                                            .build()
                                    )
                                    .partialResults(
                                        JsonValue.from(mapOf("age" to 29, "city" to "Paris"))
                                    )
                                    .to("+35319605860")
                                    .build()
                            )
                            .recordType(
                                CallAiGatherPartialResultsWebhookEvent.Data.RecordType.EVENT
                            )
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCustomerServiceRecordStatusChanged() {
        val customerServiceRecordStatusChanged =
            CustomerServiceRecordStatusChangedWebhookEvent.builder()
                .data(
                    CustomerServiceRecordStatusChangedWebhookEvent.Data.builder()
                        .id("d3c462b5-8afa-4d48-9af1-4f9b1f00e7bd")
                        .eventType(
                            CustomerServiceRecordStatusChangedWebhookEvent.Data.EventType
                                .CUSTOMER_SERVICE_RECORD_STATUS_CHANGED
                        )
                        .occurredAt(OffsetDateTime.parse("2021-03-19T10:07:15.527Z"))
                        .payload(
                            CustomerServiceRecordStatusChangedWebhookEvent.Data.Payload.builder()
                                .id("f1486bae-f067-460c-ad43-73a92848f902")
                                .phoneNumber("+12065551212")
                                .status(
                                    CustomerServiceRecordStatusChangedWebhookEvent.Data.Payload
                                        .Status
                                        .COMPLETED
                                )
                                .updatedAt(OffsetDateTime.parse("2021-03-19T10:07:15.527Z"))
                                .build()
                        )
                        .recordType(
                            CustomerServiceRecordStatusChangedWebhookEvent.Data.RecordType.EVENT
                        )
                        .build()
                )
                .meta(
                    CustomerServiceRecordStatusChangedWebhookEvent.Meta.builder()
                        .attempt(1L)
                        .deliveredTo("https://example.com/webhook")
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCustomerServiceRecordStatusChanged(
                customerServiceRecordStatusChanged
            )

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged())
            .contains(customerServiceRecordStatusChanged)
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCustomerServiceRecordStatusChangedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCustomerServiceRecordStatusChanged(
                CustomerServiceRecordStatusChangedWebhookEvent.builder()
                    .data(
                        CustomerServiceRecordStatusChangedWebhookEvent.Data.builder()
                            .id("d3c462b5-8afa-4d48-9af1-4f9b1f00e7bd")
                            .eventType(
                                CustomerServiceRecordStatusChangedWebhookEvent.Data.EventType
                                    .CUSTOMER_SERVICE_RECORD_STATUS_CHANGED
                            )
                            .occurredAt(OffsetDateTime.parse("2021-03-19T10:07:15.527Z"))
                            .payload(
                                CustomerServiceRecordStatusChangedWebhookEvent.Data.Payload
                                    .builder()
                                    .id("f1486bae-f067-460c-ad43-73a92848f902")
                                    .phoneNumber("+12065551212")
                                    .status(
                                        CustomerServiceRecordStatusChangedWebhookEvent.Data.Payload
                                            .Status
                                            .COMPLETED
                                    )
                                    .updatedAt(OffsetDateTime.parse("2021-03-19T10:07:15.527Z"))
                                    .build()
                            )
                            .recordType(
                                CustomerServiceRecordStatusChangedWebhookEvent.Data.RecordType.EVENT
                            )
                            .build()
                    )
                    .meta(
                        CustomerServiceRecordStatusChangedWebhookEvent.Meta.builder()
                            .attempt(1L)
                            .deliveredTo("https://example.com/webhook")
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallAnswered() {
        val callAnswered =
            CallAnsweredWebhookEvent.builder()
                .data(
                    CallAnsweredWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(CallAnsweredWebhookEvent.Data.EventType.CALL_ANSWERED)
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallAnsweredWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .addCustomHeader(
                                    CustomSipHeader.builder().name("head_1").value("val_1").build()
                                )
                                .addCustomHeader(
                                    CustomSipHeader.builder().name("head_2").value("val_2").build()
                                )
                                .from("+35319605860")
                                .addSipHeader(
                                    SipHeader.builder()
                                        .name(SipHeader.Name.USER_TO_USER)
                                        .value("1234")
                                        .build()
                                )
                                .addSipHeader(
                                    SipHeader.builder()
                                        .name(SipHeader.Name.USER_TO_USER)
                                        .value("<sip:111@192.168.1.1>")
                                        .build()
                                )
                                .startTime(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                                .state(CallAnsweredWebhookEvent.Data.Payload.State.ANSWERED)
                                .addTag("tag-01")
                                .addTag("tag-02")
                                .to("+35319605860")
                                .build()
                        )
                        .recordType(CallAnsweredWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofCallAnswered(callAnswered)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).contains(callAnswered)
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallAnsweredRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallAnswered(
                CallAnsweredWebhookEvent.builder()
                    .data(
                        CallAnsweredWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(CallAnsweredWebhookEvent.Data.EventType.CALL_ANSWERED)
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallAnsweredWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .addCustomHeader(
                                        CustomSipHeader.builder()
                                            .name("head_1")
                                            .value("val_1")
                                            .build()
                                    )
                                    .addCustomHeader(
                                        CustomSipHeader.builder()
                                            .name("head_2")
                                            .value("val_2")
                                            .build()
                                    )
                                    .from("+35319605860")
                                    .addSipHeader(
                                        SipHeader.builder()
                                            .name(SipHeader.Name.USER_TO_USER)
                                            .value("1234")
                                            .build()
                                    )
                                    .addSipHeader(
                                        SipHeader.builder()
                                            .name(SipHeader.Name.USER_TO_USER)
                                            .value("<sip:111@192.168.1.1>")
                                            .build()
                                    )
                                    .startTime(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                                    .state(CallAnsweredWebhookEvent.Data.Payload.State.ANSWERED)
                                    .addTag("tag-01")
                                    .addTag("tag-02")
                                    .to("+35319605860")
                                    .build()
                            )
                            .recordType(CallAnsweredWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallBridged() {
        val callBridged =
            CallBridgedWebhookEvent.builder()
                .data(
                    CallBridgedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(CallBridgedWebhookEvent.Data.EventType.CALL_BRIDGED)
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallBridgedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .from("+35319605860")
                                .to("+35319605860")
                                .build()
                        )
                        .recordType(CallBridgedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofCallBridged(callBridged)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).contains(callBridged)
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallBridgedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallBridged(
                CallBridgedWebhookEvent.builder()
                    .data(
                        CallBridgedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(CallBridgedWebhookEvent.Data.EventType.CALL_BRIDGED)
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallBridgedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .from("+35319605860")
                                    .to("+35319605860")
                                    .build()
                            )
                            .recordType(CallBridgedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallConversationEnded() {
        val callConversationEnded =
            CallConversationEndedWebhookEvent.builder()
                .data(
                    CallConversationEndedWebhookEvent.Data.builder()
                        .id("eb8775a6-634f-48b0-b177-d5465a8a8e9f")
                        .createdAt(OffsetDateTime.parse("2025-05-29T13:35:38.927621Z"))
                        .eventType(
                            CallConversationEndedWebhookEvent.Data.EventType.CALL_CONVERSATION_ENDED
                        )
                        .occurredAt(OffsetDateTime.parse("2025-05-29T13:35:38.817785Z"))
                        .payload(
                            CallConversationEndedWebhookEvent.Data.Payload.builder()
                                .assistantId("assistant-d9082b56-ba2d-4ad1-a50c-58661eb1463d")
                                .callControlId(
                                    "v3:HDR1vQHx697hpP9xZ0bhlbUOWPFPDtPcxw-nuSMuC6mGVpb0euoklQ"
                                )
                                .callLegId("cc29cce6-3c91-11f0-a8e5-02420aef3d20")
                                .callSessionId("cc29c8d6-3c91-11f0-aa7c-02420aef3d20")
                                .callingPartyType(
                                    CallConversationEndedWebhookEvent.Data.Payload.CallingPartyType
                                        .SIP
                                )
                                .clientState(
                                    "g3QAAAACbQAAAAtkYXRhX2NlbnRlcm0AAAADY2gxbQAAAApkZXBsb3ltZW50bQAAAARiYXNl"
                                )
                                .connectionId("2694492062593582591")
                                .conversationId("0424805b-adc1-4ff8-9f95-e1de6883ecbe")
                                .durationSec(3L)
                                .from("+13124287921")
                                .llmModel("openai/gpt-4o")
                                .sttModel("distil-whisper/distil-large-v2")
                                .to(
                                    "jamesw@assistant-d9082b56-ba2d-4ad1-a50c-58661eb1463d.sip.telnyx.com"
                                )
                                .ttsModelId("Natural")
                                .ttsProvider("telnyx")
                                .ttsVoiceId("Marissa")
                                .build()
                        )
                        .recordType(CallConversationEndedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallConversationEnded(callConversationEnded)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).contains(callConversationEnded)
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallConversationEndedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallConversationEnded(
                CallConversationEndedWebhookEvent.builder()
                    .data(
                        CallConversationEndedWebhookEvent.Data.builder()
                            .id("eb8775a6-634f-48b0-b177-d5465a8a8e9f")
                            .createdAt(OffsetDateTime.parse("2025-05-29T13:35:38.927621Z"))
                            .eventType(
                                CallConversationEndedWebhookEvent.Data.EventType
                                    .CALL_CONVERSATION_ENDED
                            )
                            .occurredAt(OffsetDateTime.parse("2025-05-29T13:35:38.817785Z"))
                            .payload(
                                CallConversationEndedWebhookEvent.Data.Payload.builder()
                                    .assistantId("assistant-d9082b56-ba2d-4ad1-a50c-58661eb1463d")
                                    .callControlId(
                                        "v3:HDR1vQHx697hpP9xZ0bhlbUOWPFPDtPcxw-nuSMuC6mGVpb0euoklQ"
                                    )
                                    .callLegId("cc29cce6-3c91-11f0-a8e5-02420aef3d20")
                                    .callSessionId("cc29c8d6-3c91-11f0-aa7c-02420aef3d20")
                                    .callingPartyType(
                                        CallConversationEndedWebhookEvent.Data.Payload
                                            .CallingPartyType
                                            .SIP
                                    )
                                    .clientState(
                                        "g3QAAAACbQAAAAtkYXRhX2NlbnRlcm0AAAADY2gxbQAAAApkZXBsb3ltZW50bQAAAARiYXNl"
                                    )
                                    .connectionId("2694492062593582591")
                                    .conversationId("0424805b-adc1-4ff8-9f95-e1de6883ecbe")
                                    .durationSec(3L)
                                    .from("+13124287921")
                                    .llmModel("openai/gpt-4o")
                                    .sttModel("distil-whisper/distil-large-v2")
                                    .to(
                                        "jamesw@assistant-d9082b56-ba2d-4ad1-a50c-58661eb1463d.sip.telnyx.com"
                                    )
                                    .ttsModelId("Natural")
                                    .ttsProvider("telnyx")
                                    .ttsVoiceId("Marissa")
                                    .build()
                            )
                            .recordType(CallConversationEndedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallConversationInsightsGenerated() {
        val callConversationInsightsGenerated =
            CallConversationInsightsGeneratedWebhookEvent.builder()
                .data(
                    CallConversationInsightsGeneratedWebhookEvent.Data.builder()
                        .id("898e96ef-be63-45aa-9e7d-01332bff9a97")
                        .eventType(
                            CallConversationInsightsGeneratedWebhookEvent.Data.EventType
                                .CALL_CONVERSATION_INSIGHTS_GENERATED
                        )
                        .occurredAt(OffsetDateTime.parse("2025-02-19T17:02:49.371454Z"))
                        .payload(
                            CallConversationInsightsGeneratedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callingPartyType(
                                    CallConversationInsightsGeneratedWebhookEvent.Data.Payload
                                        .CallingPartyType
                                        .PSTN
                                )
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .insightGroupId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                .addResult(
                                    CallConversationInsightsGeneratedWebhookEvent.Data.Payload
                                        .Result
                                        .builder()
                                        .insightId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                        .result(
                                            JsonValue.from(
                                                "The user inquired about the menu at Ember & Oak. The menu offers various options, including vegetarian, vegan, and gluten-free dishes, as well as a children's menu. The restaurant also has a daily happy hour from 4 PM to 6 PM and offers takeaway and delivery services. The user found the information helpful but had to leave without making any further decisions or requests. No specific preferences or goals were expressed beyond inquiring about the menu."
                                            )
                                        )
                                        .build()
                                )
                                .build()
                        )
                        .recordType(
                            CallConversationInsightsGeneratedWebhookEvent.Data.RecordType.EVENT
                        )
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallConversationInsightsGenerated(
                callConversationInsightsGenerated
            )

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated())
            .contains(callConversationInsightsGenerated)
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallConversationInsightsGeneratedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallConversationInsightsGenerated(
                CallConversationInsightsGeneratedWebhookEvent.builder()
                    .data(
                        CallConversationInsightsGeneratedWebhookEvent.Data.builder()
                            .id("898e96ef-be63-45aa-9e7d-01332bff9a97")
                            .eventType(
                                CallConversationInsightsGeneratedWebhookEvent.Data.EventType
                                    .CALL_CONVERSATION_INSIGHTS_GENERATED
                            )
                            .occurredAt(OffsetDateTime.parse("2025-02-19T17:02:49.371454Z"))
                            .payload(
                                CallConversationInsightsGeneratedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callingPartyType(
                                        CallConversationInsightsGeneratedWebhookEvent.Data.Payload
                                            .CallingPartyType
                                            .PSTN
                                    )
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .insightGroupId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                    .addResult(
                                        CallConversationInsightsGeneratedWebhookEvent.Data.Payload
                                            .Result
                                            .builder()
                                            .insightId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                            .result(
                                                JsonValue.from(
                                                    "The user inquired about the menu at Ember & Oak. The menu offers various options, including vegetarian, vegan, and gluten-free dishes, as well as a children's menu. The restaurant also has a daily happy hour from 4 PM to 6 PM and offers takeaway and delivery services. The user found the information helpful but had to leave without making any further decisions or requests. No specific preferences or goals were expressed beyond inquiring about the menu."
                                                )
                                            )
                                            .build()
                                    )
                                    .build()
                            )
                            .recordType(
                                CallConversationInsightsGeneratedWebhookEvent.Data.RecordType.EVENT
                            )
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallDtmfReceived() {
        val callDtmfReceived =
            CallDtmfReceivedWebhookEvent.builder()
                .data(
                    CallDtmfReceivedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(CallDtmfReceivedWebhookEvent.Data.EventType.CALL_DTMF_RECEIVED)
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallDtmfReceivedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .digit("#")
                                .from("+35319605860")
                                .to("+35319605860")
                                .build()
                        )
                        .recordType(CallDtmfReceivedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofCallDtmfReceived(callDtmfReceived)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).contains(callDtmfReceived)
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallDtmfReceivedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallDtmfReceived(
                CallDtmfReceivedWebhookEvent.builder()
                    .data(
                        CallDtmfReceivedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                CallDtmfReceivedWebhookEvent.Data.EventType.CALL_DTMF_RECEIVED
                            )
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallDtmfReceivedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .digit("#")
                                    .from("+35319605860")
                                    .to("+35319605860")
                                    .build()
                            )
                            .recordType(CallDtmfReceivedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallEnqueued() {
        val callEnqueued =
            CallEnqueuedWebhookEvent.builder()
                .data(
                    CallEnqueuedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(CallEnqueuedWebhookEvent.Data.EventType.CALL_ENQUEUED)
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallEnqueuedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .currentPosition(5L)
                                .queue("support")
                                .queueAvgWaitTimeSecs(60L)
                                .build()
                        )
                        .recordType(CallEnqueuedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofCallEnqueued(callEnqueued)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).contains(callEnqueued)
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallEnqueuedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallEnqueued(
                CallEnqueuedWebhookEvent.builder()
                    .data(
                        CallEnqueuedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(CallEnqueuedWebhookEvent.Data.EventType.CALL_ENQUEUED)
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallEnqueuedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .currentPosition(5L)
                                    .queue("support")
                                    .queueAvgWaitTimeSecs(60L)
                                    .build()
                            )
                            .recordType(CallEnqueuedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallForkStarted() {
        val callForkStarted =
            CallForkStartedWebhookEvent.builder()
                .data(
                    CallForkStartedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(CallForkStartedWebhookEvent.Data.EventType.CALL_FORK_STARTED)
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallForkStartedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v2:OycMASgvIjsGIAVEx8x3n9rYeKnUJx6a3V8VGhs5futnr17KZhujZA"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .streamType(
                                    CallForkStartedWebhookEvent.Data.Payload.StreamType.DECRYPTED
                                )
                                .build()
                        )
                        .recordType(CallForkStartedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofCallForkStarted(callForkStarted)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).contains(callForkStarted)
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallForkStartedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallForkStarted(
                CallForkStartedWebhookEvent.builder()
                    .data(
                        CallForkStartedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(CallForkStartedWebhookEvent.Data.EventType.CALL_FORK_STARTED)
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallForkStartedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v2:OycMASgvIjsGIAVEx8x3n9rYeKnUJx6a3V8VGhs5futnr17KZhujZA"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .streamType(
                                        CallForkStartedWebhookEvent.Data.Payload.StreamType
                                            .DECRYPTED
                                    )
                                    .build()
                            )
                            .recordType(CallForkStartedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallForkStopped() {
        val callForkStopped =
            CallForkStoppedWebhookEvent.builder()
                .data(
                    CallForkStoppedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(CallForkStoppedWebhookEvent.Data.EventType.CALL_FORK_STOPPED)
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallForkStoppedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v2:OycMASgvIjsGIAVEx8x3n9rYeKnUJx6a3V8VGhs5futnr17KZhujZA"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .streamType(
                                    CallForkStoppedWebhookEvent.Data.Payload.StreamType.DECRYPTED
                                )
                                .build()
                        )
                        .recordType(CallForkStoppedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofCallForkStopped(callForkStopped)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).contains(callForkStopped)
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallForkStoppedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallForkStopped(
                CallForkStoppedWebhookEvent.builder()
                    .data(
                        CallForkStoppedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(CallForkStoppedWebhookEvent.Data.EventType.CALL_FORK_STOPPED)
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallForkStoppedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v2:OycMASgvIjsGIAVEx8x3n9rYeKnUJx6a3V8VGhs5futnr17KZhujZA"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .streamType(
                                        CallForkStoppedWebhookEvent.Data.Payload.StreamType
                                            .DECRYPTED
                                    )
                                    .build()
                            )
                            .recordType(CallForkStoppedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallGatherEnded() {
        val callGatherEnded =
            CallGatherEndedWebhookEvent.builder()
                .data(
                    CallGatherEndedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(CallGatherEndedWebhookEvent.Data.EventType.CALL_GATHER_ENDED)
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallGatherEndedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .digits("123")
                                .from("+35319605860")
                                .status(CallGatherEndedWebhookEvent.Data.Payload.Status.VALID)
                                .to("+35319605860")
                                .build()
                        )
                        .recordType(CallGatherEndedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofCallGatherEnded(callGatherEnded)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).contains(callGatherEnded)
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallGatherEndedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallGatherEnded(
                CallGatherEndedWebhookEvent.builder()
                    .data(
                        CallGatherEndedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(CallGatherEndedWebhookEvent.Data.EventType.CALL_GATHER_ENDED)
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallGatherEndedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .digits("123")
                                    .from("+35319605860")
                                    .status(CallGatherEndedWebhookEvent.Data.Payload.Status.VALID)
                                    .to("+35319605860")
                                    .build()
                            )
                            .recordType(CallGatherEndedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallHangup() {
        val callHangup =
            CallHangupWebhookEvent.builder()
                .data(
                    CallHangupWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(CallHangupWebhookEvent.Data.EventType.CALL_HANGUP)
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallHangupWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callQualityStats(
                                    CallHangupWebhookEvent.Data.Payload.CallQualityStats.builder()
                                        .inbound(
                                            CallHangupWebhookEvent.Data.Payload.CallQualityStats
                                                .Inbound
                                                .builder()
                                                .jitterMaxVariance("2.74")
                                                .jitterPacketCount("0")
                                                .mos("4.50")
                                                .packetCount("591")
                                                .skipPacketCount("9")
                                                .build()
                                        )
                                        .outbound(
                                            CallHangupWebhookEvent.Data.Payload.CallQualityStats
                                                .Outbound
                                                .builder()
                                                .packetCount("0")
                                                .skipPacketCount("0")
                                                .build()
                                        )
                                        .build()
                                )
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .addCustomHeader(
                                    CustomSipHeader.builder().name("head_1").value("val_1").build()
                                )
                                .addCustomHeader(
                                    CustomSipHeader.builder().name("head_2").value("val_2").build()
                                )
                                .from("+35319605860")
                                .hangupCause(
                                    CallHangupWebhookEvent.Data.Payload.HangupCause.CALL_REJECTED
                                )
                                .hangupSource(
                                    CallHangupWebhookEvent.Data.Payload.HangupSource.CALLER
                                )
                                .sipHangupCause("603")
                                .addSipHeader(
                                    SipHeader.builder()
                                        .name(SipHeader.Name.USER_TO_USER)
                                        .value("1234")
                                        .build()
                                )
                                .addSipHeader(
                                    SipHeader.builder()
                                        .name(SipHeader.Name.USER_TO_USER)
                                        .value("<sip:111@192.168.1.1>")
                                        .build()
                                )
                                .startTime(OffsetDateTime.parse("2018-02-02T22:20:27.521992Z"))
                                .state(CallHangupWebhookEvent.Data.Payload.State.HANGUP)
                                .addTag("tag-01")
                                .addTag("tag-02")
                                .to("+35319605860")
                                .build()
                        )
                        .recordType(CallHangupWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofCallHangup(callHangup)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).contains(callHangup)
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallHangupRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallHangup(
                CallHangupWebhookEvent.builder()
                    .data(
                        CallHangupWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(CallHangupWebhookEvent.Data.EventType.CALL_HANGUP)
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallHangupWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callQualityStats(
                                        CallHangupWebhookEvent.Data.Payload.CallQualityStats
                                            .builder()
                                            .inbound(
                                                CallHangupWebhookEvent.Data.Payload.CallQualityStats
                                                    .Inbound
                                                    .builder()
                                                    .jitterMaxVariance("2.74")
                                                    .jitterPacketCount("0")
                                                    .mos("4.50")
                                                    .packetCount("591")
                                                    .skipPacketCount("9")
                                                    .build()
                                            )
                                            .outbound(
                                                CallHangupWebhookEvent.Data.Payload.CallQualityStats
                                                    .Outbound
                                                    .builder()
                                                    .packetCount("0")
                                                    .skipPacketCount("0")
                                                    .build()
                                            )
                                            .build()
                                    )
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .addCustomHeader(
                                        CustomSipHeader.builder()
                                            .name("head_1")
                                            .value("val_1")
                                            .build()
                                    )
                                    .addCustomHeader(
                                        CustomSipHeader.builder()
                                            .name("head_2")
                                            .value("val_2")
                                            .build()
                                    )
                                    .from("+35319605860")
                                    .hangupCause(
                                        CallHangupWebhookEvent.Data.Payload.HangupCause
                                            .CALL_REJECTED
                                    )
                                    .hangupSource(
                                        CallHangupWebhookEvent.Data.Payload.HangupSource.CALLER
                                    )
                                    .sipHangupCause("603")
                                    .addSipHeader(
                                        SipHeader.builder()
                                            .name(SipHeader.Name.USER_TO_USER)
                                            .value("1234")
                                            .build()
                                    )
                                    .addSipHeader(
                                        SipHeader.builder()
                                            .name(SipHeader.Name.USER_TO_USER)
                                            .value("<sip:111@192.168.1.1>")
                                            .build()
                                    )
                                    .startTime(OffsetDateTime.parse("2018-02-02T22:20:27.521992Z"))
                                    .state(CallHangupWebhookEvent.Data.Payload.State.HANGUP)
                                    .addTag("tag-01")
                                    .addTag("tag-02")
                                    .to("+35319605860")
                                    .build()
                            )
                            .recordType(CallHangupWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallInitiated() {
        val callInitiated =
            CallInitiatedWebhookEvent.builder()
                .data(
                    CallInitiatedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(CallInitiatedWebhookEvent.Data.EventType.CALL_INITIATED)
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallInitiatedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callScreeningResult("spam_likely")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callerIdName("+35319605860")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionCodecs("G722,PCMU,PCMA")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .addCustomHeader(
                                    CustomSipHeader.builder().name("head_1").value("val_1").build()
                                )
                                .addCustomHeader(
                                    CustomSipHeader.builder().name("head_2").value("val_2").build()
                                )
                                .direction(
                                    CallInitiatedWebhookEvent.Data.Payload.Direction.INCOMING
                                )
                                .from("+35319605860")
                                .offeredCodecs("G722,PCMU,PCMA")
                                .shakenStirAttestation("A")
                                .shakenStirValidated(true)
                                .addSipHeader(
                                    SipHeader.builder()
                                        .name(SipHeader.Name.USER_TO_USER)
                                        .value("1234")
                                        .build()
                                )
                                .addSipHeader(
                                    SipHeader.builder()
                                        .name(SipHeader.Name.USER_TO_USER)
                                        .value("<sip:111@192.168.1.1>")
                                        .build()
                                )
                                .startTime(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                                .state(CallInitiatedWebhookEvent.Data.Payload.State.PARKED)
                                .addTag("tag-01")
                                .addTag("tag-02")
                                .to("+35319605860")
                                .build()
                        )
                        .recordType(CallInitiatedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofCallInitiated(callInitiated)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).contains(callInitiated)
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallInitiatedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallInitiated(
                CallInitiatedWebhookEvent.builder()
                    .data(
                        CallInitiatedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(CallInitiatedWebhookEvent.Data.EventType.CALL_INITIATED)
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallInitiatedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callScreeningResult("spam_likely")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callerIdName("+35319605860")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionCodecs("G722,PCMU,PCMA")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .addCustomHeader(
                                        CustomSipHeader.builder()
                                            .name("head_1")
                                            .value("val_1")
                                            .build()
                                    )
                                    .addCustomHeader(
                                        CustomSipHeader.builder()
                                            .name("head_2")
                                            .value("val_2")
                                            .build()
                                    )
                                    .direction(
                                        CallInitiatedWebhookEvent.Data.Payload.Direction.INCOMING
                                    )
                                    .from("+35319605860")
                                    .offeredCodecs("G722,PCMU,PCMA")
                                    .shakenStirAttestation("A")
                                    .shakenStirValidated(true)
                                    .addSipHeader(
                                        SipHeader.builder()
                                            .name(SipHeader.Name.USER_TO_USER)
                                            .value("1234")
                                            .build()
                                    )
                                    .addSipHeader(
                                        SipHeader.builder()
                                            .name(SipHeader.Name.USER_TO_USER)
                                            .value("<sip:111@192.168.1.1>")
                                            .build()
                                    )
                                    .startTime(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                                    .state(CallInitiatedWebhookEvent.Data.Payload.State.PARKED)
                                    .addTag("tag-01")
                                    .addTag("tag-02")
                                    .to("+35319605860")
                                    .build()
                            )
                            .recordType(CallInitiatedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallLeftQueue() {
        val callLeftQueue =
            CallLeftQueueWebhookEvent.builder()
                .data(
                    CallLeftQueueWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(CallLeftQueueWebhookEvent.Data.EventType.CALL_DEQUEUED)
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallLeftQueueWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .queue("support")
                                .queuePosition(3L)
                                .reason(CallLeftQueueWebhookEvent.Data.Payload.Reason.LEAVE)
                                .waitTimeSecs(60L)
                                .build()
                        )
                        .recordType(CallLeftQueueWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofCallLeftQueue(callLeftQueue)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).contains(callLeftQueue)
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallLeftQueueRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallLeftQueue(
                CallLeftQueueWebhookEvent.builder()
                    .data(
                        CallLeftQueueWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(CallLeftQueueWebhookEvent.Data.EventType.CALL_DEQUEUED)
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallLeftQueueWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .queue("support")
                                    .queuePosition(3L)
                                    .reason(CallLeftQueueWebhookEvent.Data.Payload.Reason.LEAVE)
                                    .waitTimeSecs(60L)
                                    .build()
                            )
                            .recordType(CallLeftQueueWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallMachineDetectionEnded() {
        val callMachineDetectionEnded =
            CallMachineDetectionEndedWebhookEvent.builder()
                .data(
                    CallMachineDetectionEndedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            CallMachineDetectionEndedWebhookEvent.Data.EventType
                                .CALL_MACHINE_DETECTION_ENDED
                        )
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallMachineDetectionEndedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .from("+35319605860")
                                .result(
                                    CallMachineDetectionEndedWebhookEvent.Data.Payload.Result.HUMAN
                                )
                                .to("+35319605860")
                                .build()
                        )
                        .recordType(CallMachineDetectionEndedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallMachineDetectionEnded(callMachineDetectionEnded)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded())
            .contains(callMachineDetectionEnded)
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallMachineDetectionEndedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallMachineDetectionEnded(
                CallMachineDetectionEndedWebhookEvent.builder()
                    .data(
                        CallMachineDetectionEndedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                CallMachineDetectionEndedWebhookEvent.Data.EventType
                                    .CALL_MACHINE_DETECTION_ENDED
                            )
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallMachineDetectionEndedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .from("+35319605860")
                                    .result(
                                        CallMachineDetectionEndedWebhookEvent.Data.Payload.Result
                                            .HUMAN
                                    )
                                    .to("+35319605860")
                                    .build()
                            )
                            .recordType(CallMachineDetectionEndedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallMachineGreetingEnded() {
        val callMachineGreetingEnded =
            CallMachineGreetingEndedWebhookEvent.builder()
                .data(
                    CallMachineGreetingEndedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            CallMachineGreetingEndedWebhookEvent.Data.EventType
                                .CALL_MACHINE_GREETING_ENDED
                        )
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallMachineGreetingEndedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .from("+35319605860")
                                .result(
                                    CallMachineGreetingEndedWebhookEvent.Data.Payload.Result.ENDED
                                )
                                .to("+35319605860")
                                .build()
                        )
                        .recordType(CallMachineGreetingEndedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallMachineGreetingEnded(callMachineGreetingEnded)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded())
            .contains(callMachineGreetingEnded)
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallMachineGreetingEndedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallMachineGreetingEnded(
                CallMachineGreetingEndedWebhookEvent.builder()
                    .data(
                        CallMachineGreetingEndedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                CallMachineGreetingEndedWebhookEvent.Data.EventType
                                    .CALL_MACHINE_GREETING_ENDED
                            )
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallMachineGreetingEndedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .from("+35319605860")
                                    .result(
                                        CallMachineGreetingEndedWebhookEvent.Data.Payload.Result
                                            .ENDED
                                    )
                                    .to("+35319605860")
                                    .build()
                            )
                            .recordType(CallMachineGreetingEndedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallMachinePremiumDetectionEnded() {
        val callMachinePremiumDetectionEnded =
            CallMachinePremiumDetectionEndedWebhookEvent.builder()
                .data(
                    CallMachinePremiumDetectionEndedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            CallMachinePremiumDetectionEndedWebhookEvent.Data.EventType
                                .CALL_MACHINE_PREMIUM_DETECTION_ENDED
                        )
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallMachinePremiumDetectionEndedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .from("+35319605860")
                                .result(
                                    CallMachinePremiumDetectionEndedWebhookEvent.Data.Payload.Result
                                        .MACHINE
                                )
                                .to("+35319605860")
                                .build()
                        )
                        .recordType(
                            CallMachinePremiumDetectionEndedWebhookEvent.Data.RecordType.EVENT
                        )
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallMachinePremiumDetectionEnded(
                callMachinePremiumDetectionEnded
            )

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded())
            .contains(callMachinePremiumDetectionEnded)
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallMachinePremiumDetectionEndedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallMachinePremiumDetectionEnded(
                CallMachinePremiumDetectionEndedWebhookEvent.builder()
                    .data(
                        CallMachinePremiumDetectionEndedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                CallMachinePremiumDetectionEndedWebhookEvent.Data.EventType
                                    .CALL_MACHINE_PREMIUM_DETECTION_ENDED
                            )
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallMachinePremiumDetectionEndedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .from("+35319605860")
                                    .result(
                                        CallMachinePremiumDetectionEndedWebhookEvent.Data.Payload
                                            .Result
                                            .MACHINE
                                    )
                                    .to("+35319605860")
                                    .build()
                            )
                            .recordType(
                                CallMachinePremiumDetectionEndedWebhookEvent.Data.RecordType.EVENT
                            )
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallMachinePremiumGreetingEnded() {
        val callMachinePremiumGreetingEnded =
            CallMachinePremiumGreetingEndedWebhookEvent.builder()
                .data(
                    CallMachinePremiumGreetingEndedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            CallMachinePremiumGreetingEndedWebhookEvent.Data.EventType
                                .CALL_MACHINE_PREMIUM_GREETING_ENDED
                        )
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallMachinePremiumGreetingEndedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .from("+35319605860")
                                .result(
                                    CallMachinePremiumGreetingEndedWebhookEvent.Data.Payload.Result
                                        .BEEP_DETECTED
                                )
                                .to("+35319605860")
                                .build()
                        )
                        .recordType(
                            CallMachinePremiumGreetingEndedWebhookEvent.Data.RecordType.EVENT
                        )
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallMachinePremiumGreetingEnded(
                callMachinePremiumGreetingEnded
            )

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded())
            .contains(callMachinePremiumGreetingEnded)
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallMachinePremiumGreetingEndedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallMachinePremiumGreetingEnded(
                CallMachinePremiumGreetingEndedWebhookEvent.builder()
                    .data(
                        CallMachinePremiumGreetingEndedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                CallMachinePremiumGreetingEndedWebhookEvent.Data.EventType
                                    .CALL_MACHINE_PREMIUM_GREETING_ENDED
                            )
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallMachinePremiumGreetingEndedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .from("+35319605860")
                                    .result(
                                        CallMachinePremiumGreetingEndedWebhookEvent.Data.Payload
                                            .Result
                                            .BEEP_DETECTED
                                    )
                                    .to("+35319605860")
                                    .build()
                            )
                            .recordType(
                                CallMachinePremiumGreetingEndedWebhookEvent.Data.RecordType.EVENT
                            )
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallPlaybackEnded() {
        val callPlaybackEnded =
            CallPlaybackEndedWebhookEvent.builder()
                .data(
                    CallPlaybackEndedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(CallPlaybackEndedWebhookEvent.Data.EventType.CALL_PLAYBACK_ENDED)
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallPlaybackEndedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .mediaName("my_media_uploaded_to_media_storage_api")
                                .mediaUrl("http://example.com/audio.wav")
                                .overlay(false)
                                .status(CallPlaybackEndedWebhookEvent.Data.Payload.Status.COMPLETED)
                                .statusDetail(
                                    "Received curl error 22 HTTP error code 404 trying to fetch http://mediaurl.com."
                                )
                                .build()
                        )
                        .recordType(CallPlaybackEndedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallPlaybackEnded(callPlaybackEnded)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).contains(callPlaybackEnded)
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallPlaybackEndedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallPlaybackEnded(
                CallPlaybackEndedWebhookEvent.builder()
                    .data(
                        CallPlaybackEndedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                CallPlaybackEndedWebhookEvent.Data.EventType.CALL_PLAYBACK_ENDED
                            )
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallPlaybackEndedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .mediaName("my_media_uploaded_to_media_storage_api")
                                    .mediaUrl("http://example.com/audio.wav")
                                    .overlay(false)
                                    .status(
                                        CallPlaybackEndedWebhookEvent.Data.Payload.Status.COMPLETED
                                    )
                                    .statusDetail(
                                        "Received curl error 22 HTTP error code 404 trying to fetch http://mediaurl.com."
                                    )
                                    .build()
                            )
                            .recordType(CallPlaybackEndedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallPlaybackStarted() {
        val callPlaybackStarted =
            CallPlaybackStartedWebhookEvent.builder()
                .data(
                    CallPlaybackStartedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            CallPlaybackStartedWebhookEvent.Data.EventType.CALL_PLAYBACK_STARTED
                        )
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallPlaybackStartedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .mediaName("my_media_uploaded_to_media_storage_api")
                                .mediaUrl("http://example.com/audio.wav")
                                .overlay(false)
                                .build()
                        )
                        .recordType(CallPlaybackStartedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallPlaybackStarted(callPlaybackStarted)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).contains(callPlaybackStarted)
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallPlaybackStartedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallPlaybackStarted(
                CallPlaybackStartedWebhookEvent.builder()
                    .data(
                        CallPlaybackStartedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                CallPlaybackStartedWebhookEvent.Data.EventType.CALL_PLAYBACK_STARTED
                            )
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallPlaybackStartedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .mediaName("my_media_uploaded_to_media_storage_api")
                                    .mediaUrl("http://example.com/audio.wav")
                                    .overlay(false)
                                    .build()
                            )
                            .recordType(CallPlaybackStartedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallRecordingError() {
        val callRecordingError =
            CallRecordingErrorWebhookEvent.builder()
                .data(
                    CallRecordingErrorWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            CallRecordingErrorWebhookEvent.Data.EventType.CALL_RECORDING_ERROR
                        )
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallRecordingErrorWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .reason(
                                    CallRecordingErrorWebhookEvent.Data.Payload.Reason
                                        .INTERNAL_SERVER_ERROR
                                )
                                .build()
                        )
                        .recordType(CallRecordingErrorWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallRecordingError(callRecordingError)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).contains(callRecordingError)
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallRecordingErrorRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallRecordingError(
                CallRecordingErrorWebhookEvent.builder()
                    .data(
                        CallRecordingErrorWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                CallRecordingErrorWebhookEvent.Data.EventType.CALL_RECORDING_ERROR
                            )
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallRecordingErrorWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .reason(
                                        CallRecordingErrorWebhookEvent.Data.Payload.Reason
                                            .INTERNAL_SERVER_ERROR
                                    )
                                    .build()
                            )
                            .recordType(CallRecordingErrorWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallRecordingSaved() {
        val callRecordingSaved =
            CallRecordingSavedWebhookEvent.builder()
                .data(
                    CallRecordingSavedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            CallRecordingSavedWebhookEvent.Data.EventType.CALL_RECORDING_SAVED
                        )
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallRecordingSavedWebhookEvent.Data.Payload.builder()
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .channels(
                                    CallRecordingSavedWebhookEvent.Data.Payload.Channels.SINGLE
                                )
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .publicRecordingUrls(
                                    CallRecordingSavedWebhookEvent.Data.Payload.PublicRecordingUrls
                                        .builder()
                                        .mp3("http://example.com/recording.mp3")
                                        .wav("http://example.com/recording.wav")
                                        .build()
                                )
                                .recordingEndedAt(
                                    OffsetDateTime.parse("2018-02-02T22:20:27.521992Z")
                                )
                                .recordingStartedAt(
                                    OffsetDateTime.parse("2018-02-02T22:20:27.521992Z")
                                )
                                .recordingUrls(
                                    CallRecordingSavedWebhookEvent.Data.Payload.RecordingUrls
                                        .builder()
                                        .mp3("http://example.com/recording.mp3")
                                        .wav("http://example.com/recording.wav")
                                        .build()
                                )
                                .build()
                        )
                        .recordType(CallRecordingSavedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallRecordingSaved(callRecordingSaved)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).contains(callRecordingSaved)
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallRecordingSavedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallRecordingSaved(
                CallRecordingSavedWebhookEvent.builder()
                    .data(
                        CallRecordingSavedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                CallRecordingSavedWebhookEvent.Data.EventType.CALL_RECORDING_SAVED
                            )
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallRecordingSavedWebhookEvent.Data.Payload.builder()
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .channels(
                                        CallRecordingSavedWebhookEvent.Data.Payload.Channels.SINGLE
                                    )
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .publicRecordingUrls(
                                        CallRecordingSavedWebhookEvent.Data.Payload
                                            .PublicRecordingUrls
                                            .builder()
                                            .mp3("http://example.com/recording.mp3")
                                            .wav("http://example.com/recording.wav")
                                            .build()
                                    )
                                    .recordingEndedAt(
                                        OffsetDateTime.parse("2018-02-02T22:20:27.521992Z")
                                    )
                                    .recordingStartedAt(
                                        OffsetDateTime.parse("2018-02-02T22:20:27.521992Z")
                                    )
                                    .recordingUrls(
                                        CallRecordingSavedWebhookEvent.Data.Payload.RecordingUrls
                                            .builder()
                                            .mp3("http://example.com/recording.mp3")
                                            .wav("http://example.com/recording.wav")
                                            .build()
                                    )
                                    .build()
                            )
                            .recordType(CallRecordingSavedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallRecordingTranscriptionSaved() {
        val callRecordingTranscriptionSaved =
            CallRecordingTranscriptionSavedWebhookEvent.builder()
                .data(
                    CallRecordingTranscriptionSavedWebhookEvent.Data.builder()
                        .id("898e96ef-be63-45aa-9e7d-01332bff9a97")
                        .eventType(
                            CallRecordingTranscriptionSavedWebhookEvent.Data.EventType
                                .CALL_RECORDING_TRANSCRIPTION_SAVED
                        )
                        .occurredAt(OffsetDateTime.parse("2025-02-19T17:02:49.371454Z"))
                        .payload(
                            CallRecordingTranscriptionSavedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callingPartyType(
                                    CallRecordingTranscriptionSavedWebhookEvent.Data.Payload
                                        .CallingPartyType
                                        .PSTN
                                )
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .recordingId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .recordingTranscriptionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .status(
                                    CallRecordingTranscriptionSavedWebhookEvent.Data.Payload.Status
                                        .COMPLETED
                                )
                                .transcriptionText("Hi!")
                                .build()
                        )
                        .recordType(
                            CallRecordingTranscriptionSavedWebhookEvent.Data.RecordType.EVENT
                        )
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallRecordingTranscriptionSaved(
                callRecordingTranscriptionSaved
            )

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved())
            .contains(callRecordingTranscriptionSaved)
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallRecordingTranscriptionSavedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallRecordingTranscriptionSaved(
                CallRecordingTranscriptionSavedWebhookEvent.builder()
                    .data(
                        CallRecordingTranscriptionSavedWebhookEvent.Data.builder()
                            .id("898e96ef-be63-45aa-9e7d-01332bff9a97")
                            .eventType(
                                CallRecordingTranscriptionSavedWebhookEvent.Data.EventType
                                    .CALL_RECORDING_TRANSCRIPTION_SAVED
                            )
                            .occurredAt(OffsetDateTime.parse("2025-02-19T17:02:49.371454Z"))
                            .payload(
                                CallRecordingTranscriptionSavedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callingPartyType(
                                        CallRecordingTranscriptionSavedWebhookEvent.Data.Payload
                                            .CallingPartyType
                                            .PSTN
                                    )
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .recordingId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .recordingTranscriptionId(
                                        "428c31b6-7af4-4bcb-b7f5-5013ef9657c1"
                                    )
                                    .status(
                                        CallRecordingTranscriptionSavedWebhookEvent.Data.Payload
                                            .Status
                                            .COMPLETED
                                    )
                                    .transcriptionText("Hi!")
                                    .build()
                            )
                            .recordType(
                                CallRecordingTranscriptionSavedWebhookEvent.Data.RecordType.EVENT
                            )
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallReferCompleted() {
        val callReferCompleted =
            CallReferCompletedWebhookEvent.builder()
                .data(
                    CallReferCompletedWebhookEvent.Data.builder()
                        .id("4ce4366d-8d87-44be-a00b-942154e9c5f5")
                        .eventType(
                            CallReferCompletedWebhookEvent.Data.EventType.CALL_REFER_COMPLETED
                        )
                        .occurredAt(OffsetDateTime.parse("2020-03-30T13:29:44.650000Z"))
                        .payload(
                            CallReferCompletedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v2:OycMASgvIjsGIAVEx8x3n9rYeKnUJx6a3V8VGhs5futnr17KZhujZA"
                                )
                                .callLegId("817f7de8-728a-11ea-9ce6-02420a0f8969")
                                .callSessionId("817f8c2a-728a-11ea-9cbe-02420a0f8969")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("1289082222292239760")
                                .from("+35319605860")
                                .sipNotifyResponse(200L)
                                .to("+13129457420")
                                .build()
                        )
                        .recordType(CallReferCompletedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallReferCompleted(callReferCompleted)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).contains(callReferCompleted)
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallReferCompletedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallReferCompleted(
                CallReferCompletedWebhookEvent.builder()
                    .data(
                        CallReferCompletedWebhookEvent.Data.builder()
                            .id("4ce4366d-8d87-44be-a00b-942154e9c5f5")
                            .eventType(
                                CallReferCompletedWebhookEvent.Data.EventType.CALL_REFER_COMPLETED
                            )
                            .occurredAt(OffsetDateTime.parse("2020-03-30T13:29:44.650000Z"))
                            .payload(
                                CallReferCompletedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v2:OycMASgvIjsGIAVEx8x3n9rYeKnUJx6a3V8VGhs5futnr17KZhujZA"
                                    )
                                    .callLegId("817f7de8-728a-11ea-9ce6-02420a0f8969")
                                    .callSessionId("817f8c2a-728a-11ea-9cbe-02420a0f8969")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("1289082222292239760")
                                    .from("+35319605860")
                                    .sipNotifyResponse(200L)
                                    .to("+13129457420")
                                    .build()
                            )
                            .recordType(CallReferCompletedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallReferFailed() {
        val callReferFailed =
            CallReferFailedWebhookEvent.builder()
                .data(
                    CallReferFailedWebhookEvent.Data.builder()
                        .id("fbeb70e0-54eb-4e26-8d19-56b43e66f754")
                        .eventType(CallReferFailedWebhookEvent.Data.EventType.CALL_REFER_FAILED)
                        .occurredAt(OffsetDateTime.parse("2020-03-30T13:29:42.130013Z"))
                        .payload(
                            CallReferFailedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v2:OycMASgvIjsGIAVEx8x3n9rYeKnUJx6a3V8VGhs5futnr17KZhujZA"
                                )
                                .callLegId("817f7de8-728a-11ea-9ce6-02420a0f8969")
                                .callSessionId("817f8c2a-728a-11ea-9cbe-02420a0f8969")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("1289082222292239760")
                                .from("+35319605860")
                                .sipNotifyResponse(603L)
                                .to("+13129457420")
                                .build()
                        )
                        .recordType(CallReferFailedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofCallReferFailed(callReferFailed)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).contains(callReferFailed)
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallReferFailedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallReferFailed(
                CallReferFailedWebhookEvent.builder()
                    .data(
                        CallReferFailedWebhookEvent.Data.builder()
                            .id("fbeb70e0-54eb-4e26-8d19-56b43e66f754")
                            .eventType(CallReferFailedWebhookEvent.Data.EventType.CALL_REFER_FAILED)
                            .occurredAt(OffsetDateTime.parse("2020-03-30T13:29:42.130013Z"))
                            .payload(
                                CallReferFailedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v2:OycMASgvIjsGIAVEx8x3n9rYeKnUJx6a3V8VGhs5futnr17KZhujZA"
                                    )
                                    .callLegId("817f7de8-728a-11ea-9ce6-02420a0f8969")
                                    .callSessionId("817f8c2a-728a-11ea-9cbe-02420a0f8969")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("1289082222292239760")
                                    .from("+35319605860")
                                    .sipNotifyResponse(603L)
                                    .to("+13129457420")
                                    .build()
                            )
                            .recordType(CallReferFailedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallReferStarted() {
        val callReferStarted =
            CallReferStartedWebhookEvent.builder()
                .data(
                    CallReferStartedWebhookEvent.Data.builder()
                        .id("fbeb70e0-54eb-4e26-8d19-56b43e66f754")
                        .eventType(CallReferStartedWebhookEvent.Data.EventType.CALL_REFER_STARTED)
                        .occurredAt(OffsetDateTime.parse("2020-03-30T13:29:42.130013Z"))
                        .payload(
                            CallReferStartedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v2:OycMASgvIjsGIAVEx8x3n9rYeKnUJx6a3V8VGhs5futnr17KZhujZA"
                                )
                                .callLegId("817f7de8-728a-11ea-9ce6-02420a0f8969")
                                .callSessionId("817f8c2a-728a-11ea-9cbe-02420a0f8969")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("1289082222292239760")
                                .from("+35319605860")
                                .sipNotifyResponse(100L)
                                .to("+13129457420")
                                .build()
                        )
                        .recordType(CallReferStartedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofCallReferStarted(callReferStarted)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).contains(callReferStarted)
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallReferStartedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallReferStarted(
                CallReferStartedWebhookEvent.builder()
                    .data(
                        CallReferStartedWebhookEvent.Data.builder()
                            .id("fbeb70e0-54eb-4e26-8d19-56b43e66f754")
                            .eventType(
                                CallReferStartedWebhookEvent.Data.EventType.CALL_REFER_STARTED
                            )
                            .occurredAt(OffsetDateTime.parse("2020-03-30T13:29:42.130013Z"))
                            .payload(
                                CallReferStartedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v2:OycMASgvIjsGIAVEx8x3n9rYeKnUJx6a3V8VGhs5futnr17KZhujZA"
                                    )
                                    .callLegId("817f7de8-728a-11ea-9ce6-02420a0f8969")
                                    .callSessionId("817f8c2a-728a-11ea-9cbe-02420a0f8969")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("1289082222292239760")
                                    .from("+35319605860")
                                    .sipNotifyResponse(100L)
                                    .to("+13129457420")
                                    .build()
                            )
                            .recordType(CallReferStartedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallSiprecFailed() {
        val callSiprecFailed =
            CallSiprecFailedWebhookEvent.builder()
                .data(
                    CallSiprecFailedWebhookEvent.Data.builder()
                        .id("25dc3731-e51e-4927-a50d-a61cc25984b1")
                        .eventType(CallSiprecFailedWebhookEvent.Data.EventType.SIPREC_FAILED)
                        .occurredAt(OffsetDateTime.parse("2021-12-15T14:11:24.613295Z"))
                        .payload(
                            CallSiprecFailedWebhookEvent.Data.Payload.builder()
                                .callControlId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .callLegId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .callSessionId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .failureCause("no_answer")
                                .build()
                        )
                        .recordType(CallSiprecFailedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofCallSiprecFailed(callSiprecFailed)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).contains(callSiprecFailed)
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallSiprecFailedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallSiprecFailed(
                CallSiprecFailedWebhookEvent.builder()
                    .data(
                        CallSiprecFailedWebhookEvent.Data.builder()
                            .id("25dc3731-e51e-4927-a50d-a61cc25984b1")
                            .eventType(CallSiprecFailedWebhookEvent.Data.EventType.SIPREC_FAILED)
                            .occurredAt(OffsetDateTime.parse("2021-12-15T14:11:24.613295Z"))
                            .payload(
                                CallSiprecFailedWebhookEvent.Data.Payload.builder()
                                    .callControlId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .callLegId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .callSessionId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .failureCause("no_answer")
                                    .build()
                            )
                            .recordType(CallSiprecFailedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallSiprecStarted() {
        val callSiprecStarted =
            CallSiprecStartedWebhookEvent.builder()
                .data(
                    CallSiprecStartedWebhookEvent.Data.builder()
                        .id("7d743d69-f7e8-4761-b7d4-8cacf9d3c031")
                        .eventType(CallSiprecStartedWebhookEvent.Data.EventType.SIPREC_STARTED)
                        .occurredAt(OffsetDateTime.parse("2021-12-15T14:06:32.059436Z"))
                        .payload(
                            CallSiprecStartedWebhookEvent.Data.Payload.builder()
                                .callControlId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .callLegId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .callSessionId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .build()
                        )
                        .recordType(CallSiprecStartedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallSiprecStarted(callSiprecStarted)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).contains(callSiprecStarted)
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallSiprecStartedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallSiprecStarted(
                CallSiprecStartedWebhookEvent.builder()
                    .data(
                        CallSiprecStartedWebhookEvent.Data.builder()
                            .id("7d743d69-f7e8-4761-b7d4-8cacf9d3c031")
                            .eventType(CallSiprecStartedWebhookEvent.Data.EventType.SIPREC_STARTED)
                            .occurredAt(OffsetDateTime.parse("2021-12-15T14:06:32.059436Z"))
                            .payload(
                                CallSiprecStartedWebhookEvent.Data.Payload.builder()
                                    .callControlId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .callLegId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .callSessionId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .build()
                            )
                            .recordType(CallSiprecStartedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallSiprecStopped() {
        val callSiprecStopped =
            CallSiprecStoppedWebhookEvent.builder()
                .data(
                    CallSiprecStoppedWebhookEvent.Data.builder()
                        .id("25dc3731-e51e-4927-a50d-a61cc25984b1")
                        .eventType(CallSiprecStoppedWebhookEvent.Data.EventType.SIPREC_STOPPED)
                        .occurredAt(OffsetDateTime.parse("2021-12-15T14:11:24.613295Z"))
                        .payload(
                            CallSiprecStoppedWebhookEvent.Data.Payload.builder()
                                .callControlId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .callLegId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .callSessionId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .hangupCause("normal_clearing")
                                .build()
                        )
                        .recordType(CallSiprecStoppedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallSiprecStopped(callSiprecStopped)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).contains(callSiprecStopped)
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallSiprecStoppedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallSiprecStopped(
                CallSiprecStoppedWebhookEvent.builder()
                    .data(
                        CallSiprecStoppedWebhookEvent.Data.builder()
                            .id("25dc3731-e51e-4927-a50d-a61cc25984b1")
                            .eventType(CallSiprecStoppedWebhookEvent.Data.EventType.SIPREC_STOPPED)
                            .occurredAt(OffsetDateTime.parse("2021-12-15T14:11:24.613295Z"))
                            .payload(
                                CallSiprecStoppedWebhookEvent.Data.Payload.builder()
                                    .callControlId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .callLegId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .callSessionId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .hangupCause("normal_clearing")
                                    .build()
                            )
                            .recordType(CallSiprecStoppedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallSpeakEnded() {
        val callSpeakEnded =
            CallSpeakEndedWebhookEvent.builder()
                .data(
                    CallSpeakEndedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(CallSpeakEndedWebhookEvent.Data.EventType.CALL_SPEAK_ENDED)
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallSpeakEndedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .status(CallSpeakEndedWebhookEvent.Data.Payload.Status.COMPLETED)
                                .build()
                        )
                        .recordType(CallSpeakEndedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofCallSpeakEnded(callSpeakEnded)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).contains(callSpeakEnded)
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallSpeakEndedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallSpeakEnded(
                CallSpeakEndedWebhookEvent.builder()
                    .data(
                        CallSpeakEndedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(CallSpeakEndedWebhookEvent.Data.EventType.CALL_SPEAK_ENDED)
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallSpeakEndedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .status(
                                        CallSpeakEndedWebhookEvent.Data.Payload.Status.COMPLETED
                                    )
                                    .build()
                            )
                            .recordType(CallSpeakEndedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallSpeakStarted() {
        val callSpeakStarted =
            CallSpeakStartedWebhookEvent.builder()
                .data(
                    CallSpeakStartedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(CallSpeakStartedWebhookEvent.Data.EventType.CALL_SPEAK_STARTED)
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            CallSpeakStartedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .build()
                        )
                        .recordType(CallSpeakStartedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofCallSpeakStarted(callSpeakStarted)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).contains(callSpeakStarted)
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallSpeakStartedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallSpeakStarted(
                CallSpeakStartedWebhookEvent.builder()
                    .data(
                        CallSpeakStartedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                CallSpeakStartedWebhookEvent.Data.EventType.CALL_SPEAK_STARTED
                            )
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                CallSpeakStartedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .build()
                            )
                            .recordType(CallSpeakStartedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallStreamingFailed() {
        val callStreamingFailed =
            CallStreamingFailedWebhookEvent.builder()
                .data(
                    CallStreamingFailedWebhookEvent.Data.builder()
                        .id("25dc3731-e51e-4927-a50d-a61cc25984b1")
                        .eventType(CallStreamingFailedWebhookEvent.Data.EventType.STREAMING_FAILED)
                        .occurredAt(OffsetDateTime.parse("2021-12-15T14:11:24.613295Z"))
                        .payload(
                            CallStreamingFailedWebhookEvent.Data.Payload.builder()
                                .callControlId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .callLegId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .callSessionId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .failureReason("connection_failed")
                                .streamId("1edb94f9-7ef0-4150-b502-e0ebadfd9491")
                                .streamParams(
                                    CallStreamingFailedWebhookEvent.Data.Payload.StreamParams
                                        .builder()
                                        .streamUrl("wss://www.example.com/websocket")
                                        .track(
                                            CallStreamingFailedWebhookEvent.Data.Payload
                                                .StreamParams
                                                .Track
                                                .INBOUND_TRACK
                                        )
                                        .build()
                                )
                                .streamType(
                                    CallStreamingFailedWebhookEvent.Data.Payload.StreamType
                                        .WEBSOCKET
                                )
                                .build()
                        )
                        .recordType(CallStreamingFailedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallStreamingFailed(callStreamingFailed)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).contains(callStreamingFailed)
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallStreamingFailedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallStreamingFailed(
                CallStreamingFailedWebhookEvent.builder()
                    .data(
                        CallStreamingFailedWebhookEvent.Data.builder()
                            .id("25dc3731-e51e-4927-a50d-a61cc25984b1")
                            .eventType(
                                CallStreamingFailedWebhookEvent.Data.EventType.STREAMING_FAILED
                            )
                            .occurredAt(OffsetDateTime.parse("2021-12-15T14:11:24.613295Z"))
                            .payload(
                                CallStreamingFailedWebhookEvent.Data.Payload.builder()
                                    .callControlId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .callLegId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .callSessionId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .failureReason("connection_failed")
                                    .streamId("1edb94f9-7ef0-4150-b502-e0ebadfd9491")
                                    .streamParams(
                                        CallStreamingFailedWebhookEvent.Data.Payload.StreamParams
                                            .builder()
                                            .streamUrl("wss://www.example.com/websocket")
                                            .track(
                                                CallStreamingFailedWebhookEvent.Data.Payload
                                                    .StreamParams
                                                    .Track
                                                    .INBOUND_TRACK
                                            )
                                            .build()
                                    )
                                    .streamType(
                                        CallStreamingFailedWebhookEvent.Data.Payload.StreamType
                                            .WEBSOCKET
                                    )
                                    .build()
                            )
                            .recordType(CallStreamingFailedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallStreamingStarted() {
        val callStreamingStarted =
            CallStreamingStartedWebhookEvent.builder()
                .data(
                    CallStreamingStartedWebhookEvent.Data.builder()
                        .id("7d743d69-f7e8-4761-b7d4-8cacf9d3c031")
                        .eventType(
                            CallStreamingStartedWebhookEvent.Data.EventType.STREAMING_STARTED
                        )
                        .occurredAt(OffsetDateTime.parse("2021-12-15T14:06:32.059436Z"))
                        .payload(
                            CallStreamingStartedWebhookEvent.Data.Payload.builder()
                                .callControlId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .callLegId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .callSessionId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .streamUrl("wss://www.example.com/websocket")
                                .build()
                        )
                        .recordType(CallStreamingStartedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallStreamingStarted(callStreamingStarted)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).contains(callStreamingStarted)
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallStreamingStartedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallStreamingStarted(
                CallStreamingStartedWebhookEvent.builder()
                    .data(
                        CallStreamingStartedWebhookEvent.Data.builder()
                            .id("7d743d69-f7e8-4761-b7d4-8cacf9d3c031")
                            .eventType(
                                CallStreamingStartedWebhookEvent.Data.EventType.STREAMING_STARTED
                            )
                            .occurredAt(OffsetDateTime.parse("2021-12-15T14:06:32.059436Z"))
                            .payload(
                                CallStreamingStartedWebhookEvent.Data.Payload.builder()
                                    .callControlId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .callLegId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .callSessionId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .streamUrl("wss://www.example.com/websocket")
                                    .build()
                            )
                            .recordType(CallStreamingStartedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCallStreamingStopped() {
        val callStreamingStopped =
            CallStreamingStoppedWebhookEvent.builder()
                .data(
                    CallStreamingStoppedWebhookEvent.Data.builder()
                        .id("25dc3731-e51e-4927-a50d-a61cc25984b1")
                        .eventType(
                            CallStreamingStoppedWebhookEvent.Data.EventType.STREAMING_STOPPED
                        )
                        .occurredAt(OffsetDateTime.parse("2021-12-15T14:11:24.613295Z"))
                        .payload(
                            CallStreamingStoppedWebhookEvent.Data.Payload.builder()
                                .callControlId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .callLegId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .callSessionId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .streamUrl("wss://www.example.com/websocket")
                                .build()
                        )
                        .recordType(CallStreamingStoppedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallStreamingStopped(callStreamingStopped)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).contains(callStreamingStopped)
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCallStreamingStoppedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCallStreamingStopped(
                CallStreamingStoppedWebhookEvent.builder()
                    .data(
                        CallStreamingStoppedWebhookEvent.Data.builder()
                            .id("25dc3731-e51e-4927-a50d-a61cc25984b1")
                            .eventType(
                                CallStreamingStoppedWebhookEvent.Data.EventType.STREAMING_STOPPED
                            )
                            .occurredAt(OffsetDateTime.parse("2021-12-15T14:11:24.613295Z"))
                            .payload(
                                CallStreamingStoppedWebhookEvent.Data.Payload.builder()
                                    .callControlId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .callLegId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .callSessionId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .streamUrl("wss://www.example.com/websocket")
                                    .build()
                            )
                            .recordType(CallStreamingStoppedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofCampaignStatusUpdate() {
        val campaignStatusUpdate =
            CampaignStatusUpdateWebhookEvent.builder()
                .brandId("d88dd2aa-1bb9-4ef0-9ec8-1752b80316a5")
                .campaignId("4b300178-131c-d902-d54e-72d90ba1620j")
                .createDate("createDate")
                .cspId("cspId")
                .isTMobileRegistered(true)
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCampaignStatusUpdate(campaignStatusUpdate)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).contains(campaignStatusUpdate)
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofCampaignStatusUpdateRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofCampaignStatusUpdate(
                CampaignStatusUpdateWebhookEvent.builder()
                    .brandId("d88dd2aa-1bb9-4ef0-9ec8-1752b80316a5")
                    .campaignId("4b300178-131c-d902-d54e-72d90ba1620j")
                    .createDate("createDate")
                    .cspId("cspId")
                    .isTMobileRegistered(true)
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofConferenceCreated() {
        val conferenceCreated =
            ConferenceCreatedWebhookEvent.builder()
                .data(
                    ConferenceCreatedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(ConferenceCreatedWebhookEvent.Data.EventType.CONFERENCE_CREATED)
                        .payload(
                            ConferenceCreatedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                                .build()
                        )
                        .recordType(ConferenceCreatedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceCreated(conferenceCreated)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).contains(conferenceCreated)
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofConferenceCreatedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceCreated(
                ConferenceCreatedWebhookEvent.builder()
                    .data(
                        ConferenceCreatedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                ConferenceCreatedWebhookEvent.Data.EventType.CONFERENCE_CREATED
                            )
                            .payload(
                                ConferenceCreatedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                                    .build()
                            )
                            .recordType(ConferenceCreatedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofConferenceEnded() {
        val conferenceEnded =
            ConferenceEndedWebhookEvent.builder()
                .data(
                    ConferenceEndedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(ConferenceEndedWebhookEvent.Data.EventType.CONFERENCE_ENDED)
                        .payload(
                            ConferenceEndedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                                .reason(ConferenceEndedWebhookEvent.Data.Payload.Reason.HOST_LEFT)
                                .build()
                        )
                        .recordType(ConferenceEndedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofConferenceEnded(conferenceEnded)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).contains(conferenceEnded)
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofConferenceEndedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceEnded(
                ConferenceEndedWebhookEvent.builder()
                    .data(
                        ConferenceEndedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(ConferenceEndedWebhookEvent.Data.EventType.CONFERENCE_ENDED)
                            .payload(
                                ConferenceEndedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                                    .reason(
                                        ConferenceEndedWebhookEvent.Data.Payload.Reason.HOST_LEFT
                                    )
                                    .build()
                            )
                            .recordType(ConferenceEndedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofConferenceFloorChanged() {
        val conferenceFloorChanged =
            ConferenceFloorChangedWebhookEvent.builder()
                .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                .eventType(ConferenceFloorChangedWebhookEvent.EventType.CONFERENCE_FLOOR_CHANGED)
                .payload(
                    ConferenceFloorChangedWebhookEvent.Payload.builder()
                        .callControlId("v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg")
                        .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                        .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                        .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                        .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                        .connectionId("7267xxxxxxxxxxxxxx")
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                        .build()
                )
                .recordType(ConferenceFloorChangedWebhookEvent.RecordType.EVENT)
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceFloorChanged(conferenceFloorChanged)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged())
            .contains(conferenceFloorChanged)
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofConferenceFloorChangedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceFloorChanged(
                ConferenceFloorChangedWebhookEvent.builder()
                    .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                    .eventType(
                        ConferenceFloorChangedWebhookEvent.EventType.CONFERENCE_FLOOR_CHANGED
                    )
                    .payload(
                        ConferenceFloorChangedWebhookEvent.Payload.builder()
                            .callControlId(
                                "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                            )
                            .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                            .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                            .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                            .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                            .connectionId("7267xxxxxxxxxxxxxx")
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                            .build()
                    )
                    .recordType(ConferenceFloorChangedWebhookEvent.RecordType.EVENT)
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofConferenceParticipantJoined() {
        val conferenceParticipantJoined =
            ConferenceParticipantJoinedWebhookEvent.builder()
                .data(
                    ConferenceParticipantJoinedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            ConferenceParticipantJoinedWebhookEvent.Data.EventType
                                .CONFERENCE_PARTICIPANT_JOINED
                        )
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            ConferenceParticipantJoinedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .build()
                        )
                        .recordType(ConferenceParticipantJoinedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceParticipantJoined(conferenceParticipantJoined)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined())
            .contains(conferenceParticipantJoined)
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofConferenceParticipantJoinedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceParticipantJoined(
                ConferenceParticipantJoinedWebhookEvent.builder()
                    .data(
                        ConferenceParticipantJoinedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                ConferenceParticipantJoinedWebhookEvent.Data.EventType
                                    .CONFERENCE_PARTICIPANT_JOINED
                            )
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                ConferenceParticipantJoinedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .build()
                            )
                            .recordType(
                                ConferenceParticipantJoinedWebhookEvent.Data.RecordType.EVENT
                            )
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofConferenceParticipantLeft() {
        val conferenceParticipantLeft =
            ConferenceParticipantLeftWebhookEvent.builder()
                .data(
                    ConferenceParticipantLeftWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            ConferenceParticipantLeftWebhookEvent.Data.EventType
                                .CONFERENCE_PARTICIPANT_LEFT
                        )
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            ConferenceParticipantLeftWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .build()
                        )
                        .recordType(ConferenceParticipantLeftWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceParticipantLeft(conferenceParticipantLeft)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft())
            .contains(conferenceParticipantLeft)
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofConferenceParticipantLeftRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceParticipantLeft(
                ConferenceParticipantLeftWebhookEvent.builder()
                    .data(
                        ConferenceParticipantLeftWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                ConferenceParticipantLeftWebhookEvent.Data.EventType
                                    .CONFERENCE_PARTICIPANT_LEFT
                            )
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                ConferenceParticipantLeftWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .build()
                            )
                            .recordType(ConferenceParticipantLeftWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofConferenceParticipantPlaybackEnded() {
        val conferenceParticipantPlaybackEnded =
            ConferenceParticipantPlaybackEndedWebhookEvent.builder()
                .data(
                    ConferenceParticipantPlaybackEndedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            ConferenceParticipantPlaybackEndedWebhookEvent.Data.EventType
                                .CONFERENCE_PARTICIPANT_PLAYBACK_ENDED
                        )
                        .payload(
                            ConferenceParticipantPlaybackEndedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .creatorCallSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .mediaName("my_media_uploaded_to_media_storage_api")
                                .mediaUrl("https://www.example.com/audio.mp3")
                                .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                                .build()
                        )
                        .recordType(
                            ConferenceParticipantPlaybackEndedWebhookEvent.Data.RecordType.EVENT
                        )
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceParticipantPlaybackEnded(
                conferenceParticipantPlaybackEnded
            )

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded())
            .contains(conferenceParticipantPlaybackEnded)
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofConferenceParticipantPlaybackEndedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceParticipantPlaybackEnded(
                ConferenceParticipantPlaybackEndedWebhookEvent.builder()
                    .data(
                        ConferenceParticipantPlaybackEndedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                ConferenceParticipantPlaybackEndedWebhookEvent.Data.EventType
                                    .CONFERENCE_PARTICIPANT_PLAYBACK_ENDED
                            )
                            .payload(
                                ConferenceParticipantPlaybackEndedWebhookEvent.Data.Payload
                                    .builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .creatorCallSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .mediaName("my_media_uploaded_to_media_storage_api")
                                    .mediaUrl("https://www.example.com/audio.mp3")
                                    .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                                    .build()
                            )
                            .recordType(
                                ConferenceParticipantPlaybackEndedWebhookEvent.Data.RecordType.EVENT
                            )
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofConferenceParticipantPlaybackStarted() {
        val conferenceParticipantPlaybackStarted =
            ConferenceParticipantPlaybackStartedWebhookEvent.builder()
                .data(
                    ConferenceParticipantPlaybackStartedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            ConferenceParticipantPlaybackStartedWebhookEvent.Data.EventType
                                .CONFERENCE_PARTICIPANT_PLAYBACK_STARTED
                        )
                        .payload(
                            ConferenceParticipantPlaybackStartedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .creatorCallSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .mediaName("my_media_uploaded_to_media_storage_api")
                                .mediaUrl("https://www.example.com/audio.mp3")
                                .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                                .build()
                        )
                        .recordType(
                            ConferenceParticipantPlaybackStartedWebhookEvent.Data.RecordType.EVENT
                        )
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceParticipantPlaybackStarted(
                conferenceParticipantPlaybackStarted
            )

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted())
            .contains(conferenceParticipantPlaybackStarted)
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofConferenceParticipantPlaybackStartedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceParticipantPlaybackStarted(
                ConferenceParticipantPlaybackStartedWebhookEvent.builder()
                    .data(
                        ConferenceParticipantPlaybackStartedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                ConferenceParticipantPlaybackStartedWebhookEvent.Data.EventType
                                    .CONFERENCE_PARTICIPANT_PLAYBACK_STARTED
                            )
                            .payload(
                                ConferenceParticipantPlaybackStartedWebhookEvent.Data.Payload
                                    .builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .creatorCallSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .mediaName("my_media_uploaded_to_media_storage_api")
                                    .mediaUrl("https://www.example.com/audio.mp3")
                                    .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                                    .build()
                            )
                            .recordType(
                                ConferenceParticipantPlaybackStartedWebhookEvent.Data.RecordType
                                    .EVENT
                            )
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofConferenceParticipantSpeakEnded() {
        val conferenceParticipantSpeakEnded =
            ConferenceParticipantSpeakEndedWebhookEvent.builder()
                .data(
                    ConferenceParticipantSpeakEndedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            ConferenceParticipantSpeakEndedWebhookEvent.Data.EventType
                                .CONFERENCE_PARTICIPANT_SPEAK_ENDED
                        )
                        .payload(
                            ConferenceParticipantSpeakEndedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .creatorCallSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                                .build()
                        )
                        .recordType(
                            ConferenceParticipantSpeakEndedWebhookEvent.Data.RecordType.EVENT
                        )
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceParticipantSpeakEnded(
                conferenceParticipantSpeakEnded
            )

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded())
            .contains(conferenceParticipantSpeakEnded)
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofConferenceParticipantSpeakEndedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceParticipantSpeakEnded(
                ConferenceParticipantSpeakEndedWebhookEvent.builder()
                    .data(
                        ConferenceParticipantSpeakEndedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                ConferenceParticipantSpeakEndedWebhookEvent.Data.EventType
                                    .CONFERENCE_PARTICIPANT_SPEAK_ENDED
                            )
                            .payload(
                                ConferenceParticipantSpeakEndedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .creatorCallSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                                    .build()
                            )
                            .recordType(
                                ConferenceParticipantSpeakEndedWebhookEvent.Data.RecordType.EVENT
                            )
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofConferenceParticipantSpeakStarted() {
        val conferenceParticipantSpeakStarted =
            ConferenceParticipantSpeakStartedWebhookEvent.builder()
                .data(
                    ConferenceParticipantSpeakStartedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            ConferenceParticipantSpeakStartedWebhookEvent.Data.EventType
                                .CONFERENCE_PARTICIPANT_SPEAK_STARTED
                        )
                        .payload(
                            ConferenceParticipantSpeakStartedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .creatorCallSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                                .build()
                        )
                        .recordType(
                            ConferenceParticipantSpeakStartedWebhookEvent.Data.RecordType.EVENT
                        )
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceParticipantSpeakStarted(
                conferenceParticipantSpeakStarted
            )

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted())
            .contains(conferenceParticipantSpeakStarted)
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofConferenceParticipantSpeakStartedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceParticipantSpeakStarted(
                ConferenceParticipantSpeakStartedWebhookEvent.builder()
                    .data(
                        ConferenceParticipantSpeakStartedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                ConferenceParticipantSpeakStartedWebhookEvent.Data.EventType
                                    .CONFERENCE_PARTICIPANT_SPEAK_STARTED
                            )
                            .payload(
                                ConferenceParticipantSpeakStartedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callLegId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .creatorCallSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                                    .build()
                            )
                            .recordType(
                                ConferenceParticipantSpeakStartedWebhookEvent.Data.RecordType.EVENT
                            )
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofConferencePlaybackEnded() {
        val conferencePlaybackEnded =
            ConferencePlaybackEndedWebhookEvent.builder()
                .data(
                    ConferencePlaybackEndedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            ConferencePlaybackEndedWebhookEvent.Data.EventType
                                .CONFERENCE_PLAYBACK_ENDED
                        )
                        .payload(
                            ConferencePlaybackEndedWebhookEvent.Data.Payload.builder()
                                .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .creatorCallSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .mediaName("my_media_uploaded_to_media_storage_api")
                                .mediaUrl("https://www.example.com/audio.mp3")
                                .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                                .build()
                        )
                        .recordType(ConferencePlaybackEndedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferencePlaybackEnded(conferencePlaybackEnded)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded())
            .contains(conferencePlaybackEnded)
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofConferencePlaybackEndedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferencePlaybackEnded(
                ConferencePlaybackEndedWebhookEvent.builder()
                    .data(
                        ConferencePlaybackEndedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                ConferencePlaybackEndedWebhookEvent.Data.EventType
                                    .CONFERENCE_PLAYBACK_ENDED
                            )
                            .payload(
                                ConferencePlaybackEndedWebhookEvent.Data.Payload.builder()
                                    .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .creatorCallSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .mediaName("my_media_uploaded_to_media_storage_api")
                                    .mediaUrl("https://www.example.com/audio.mp3")
                                    .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                                    .build()
                            )
                            .recordType(ConferencePlaybackEndedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofConferencePlaybackStarted() {
        val conferencePlaybackStarted =
            ConferencePlaybackStartedWebhookEvent.builder()
                .data(
                    ConferencePlaybackStartedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            ConferencePlaybackStartedWebhookEvent.Data.EventType
                                .CONFERENCE_PLAYBACK_STARTED
                        )
                        .payload(
                            ConferencePlaybackStartedWebhookEvent.Data.Payload.builder()
                                .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .creatorCallSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .mediaName("my_media_uploaded_to_media_storage_api")
                                .mediaUrl("https://www.example.com/audio.mp3")
                                .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                                .build()
                        )
                        .recordType(ConferencePlaybackStartedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferencePlaybackStarted(conferencePlaybackStarted)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted())
            .contains(conferencePlaybackStarted)
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofConferencePlaybackStartedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferencePlaybackStarted(
                ConferencePlaybackStartedWebhookEvent.builder()
                    .data(
                        ConferencePlaybackStartedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                ConferencePlaybackStartedWebhookEvent.Data.EventType
                                    .CONFERENCE_PLAYBACK_STARTED
                            )
                            .payload(
                                ConferencePlaybackStartedWebhookEvent.Data.Payload.builder()
                                    .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .creatorCallSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .mediaName("my_media_uploaded_to_media_storage_api")
                                    .mediaUrl("https://www.example.com/audio.mp3")
                                    .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                                    .build()
                            )
                            .recordType(ConferencePlaybackStartedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofConferenceRecordingSaved() {
        val conferenceRecordingSaved =
            ConferenceRecordingSavedWebhookEvent.builder()
                .data(
                    ConferenceRecordingSavedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            ConferenceRecordingSavedWebhookEvent.Data.EventType
                                .CONFERENCE_RECORDING_SAVED
                        )
                        .payload(
                            ConferenceRecordingSavedWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                )
                                .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .channels(
                                    ConferenceRecordingSavedWebhookEvent.Data.Payload.Channels
                                        .SINGLE
                                )
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .format(
                                    ConferenceRecordingSavedWebhookEvent.Data.Payload.Format.MP3
                                )
                                .publicRecordingUrls(
                                    ConferenceRecordingSavedWebhookEvent.Data.Payload
                                        .PublicRecordingUrls
                                        .builder()
                                        .mp3("http://example.com/recording.mp3")
                                        .wav("http://example.com/recording.wav")
                                        .build()
                                )
                                .recordingEndedAt(
                                    OffsetDateTime.parse("2018-02-02T22:20:27.521992Z")
                                )
                                .recordingId("4577f9a2-cf0e-44f3-ac57-9f95fb03fa47")
                                .recordingStartedAt(
                                    OffsetDateTime.parse("2021-05-11T10:17:03.692107Z")
                                )
                                .recordingUrls(
                                    ConferenceRecordingSavedWebhookEvent.Data.Payload.RecordingUrls
                                        .builder()
                                        .mp3("http://example.com/recording.mp3")
                                        .wav("http://example.com/recording.wav")
                                        .build()
                                )
                                .build()
                        )
                        .recordType(ConferenceRecordingSavedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceRecordingSaved(conferenceRecordingSaved)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved())
            .contains(conferenceRecordingSaved)
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofConferenceRecordingSavedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceRecordingSaved(
                ConferenceRecordingSavedWebhookEvent.builder()
                    .data(
                        ConferenceRecordingSavedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                ConferenceRecordingSavedWebhookEvent.Data.EventType
                                    .CONFERENCE_RECORDING_SAVED
                            )
                            .payload(
                                ConferenceRecordingSavedWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v3:MdI91X4lWFEs7IgbBEOT9M4AigoY08M0WWZFISt1Yw2axZ_IiE4pqg"
                                    )
                                    .callSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .channels(
                                        ConferenceRecordingSavedWebhookEvent.Data.Payload.Channels
                                            .SINGLE
                                    )
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .format(
                                        ConferenceRecordingSavedWebhookEvent.Data.Payload.Format.MP3
                                    )
                                    .publicRecordingUrls(
                                        ConferenceRecordingSavedWebhookEvent.Data.Payload
                                            .PublicRecordingUrls
                                            .builder()
                                            .mp3("http://example.com/recording.mp3")
                                            .wav("http://example.com/recording.wav")
                                            .build()
                                    )
                                    .recordingEndedAt(
                                        OffsetDateTime.parse("2018-02-02T22:20:27.521992Z")
                                    )
                                    .recordingId("4577f9a2-cf0e-44f3-ac57-9f95fb03fa47")
                                    .recordingStartedAt(
                                        OffsetDateTime.parse("2021-05-11T10:17:03.692107Z")
                                    )
                                    .recordingUrls(
                                        ConferenceRecordingSavedWebhookEvent.Data.Payload
                                            .RecordingUrls
                                            .builder()
                                            .mp3("http://example.com/recording.mp3")
                                            .wav("http://example.com/recording.wav")
                                            .build()
                                    )
                                    .build()
                            )
                            .recordType(ConferenceRecordingSavedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofConferenceSpeakEnded() {
        val conferenceSpeakEnded =
            ConferenceSpeakEndedWebhookEvent.builder()
                .data(
                    ConferenceSpeakEndedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            ConferenceSpeakEndedWebhookEvent.Data.EventType.CONFERENCE_SPEAK_ENDED
                        )
                        .payload(
                            ConferenceSpeakEndedWebhookEvent.Data.Payload.builder()
                                .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .creatorCallSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                                .build()
                        )
                        .recordType(ConferenceSpeakEndedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceSpeakEnded(conferenceSpeakEnded)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).contains(conferenceSpeakEnded)
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofConferenceSpeakEndedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceSpeakEnded(
                ConferenceSpeakEndedWebhookEvent.builder()
                    .data(
                        ConferenceSpeakEndedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                ConferenceSpeakEndedWebhookEvent.Data.EventType
                                    .CONFERENCE_SPEAK_ENDED
                            )
                            .payload(
                                ConferenceSpeakEndedWebhookEvent.Data.Payload.builder()
                                    .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .creatorCallSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                                    .build()
                            )
                            .recordType(ConferenceSpeakEndedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofConferenceSpeakStarted() {
        val conferenceSpeakStarted =
            ConferenceSpeakStartedWebhookEvent.builder()
                .data(
                    ConferenceSpeakStartedWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(
                            ConferenceSpeakStartedWebhookEvent.Data.EventType
                                .CONFERENCE_SPEAK_STARTED
                        )
                        .payload(
                            ConferenceSpeakStartedWebhookEvent.Data.Payload.builder()
                                .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .creatorCallSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                                .build()
                        )
                        .recordType(ConferenceSpeakStartedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceSpeakStarted(conferenceSpeakStarted)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted())
            .contains(conferenceSpeakStarted)
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofConferenceSpeakStartedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofConferenceSpeakStarted(
                ConferenceSpeakStartedWebhookEvent.builder()
                    .data(
                        ConferenceSpeakStartedWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(
                                ConferenceSpeakStartedWebhookEvent.Data.EventType
                                    .CONFERENCE_SPEAK_STARTED
                            )
                            .payload(
                                ConferenceSpeakStartedWebhookEvent.Data.Payload.builder()
                                    .conferenceId("428c31b6-abf3-3bc1-b7f4-5013ef9657c1")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .creatorCallSessionId("428c31b6-7af4-4bcb-b7f5-5013ef9657c1")
                                    .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521Z"))
                                    .build()
                            )
                            .recordType(ConferenceSpeakStartedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofDeliveryUpdate() {
        val deliveryUpdate =
            DeliveryUpdateWebhookEvent.builder()
                .data(
                    DeliveryUpdateWebhookEvent.Data.builder()
                        .id("86f58db9-0fe3-4adc-9d1f-46e66e6e9323")
                        .eventType(DeliveryUpdateWebhookEvent.Data.EventType.MESSAGE_SENT)
                        .occurredAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                        .payload(
                            OutboundMessagePayload.builder()
                                .id("40385f64-5717-4562-b3fc-2c963f66afa6")
                                .completedAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                                .cost(
                                    OutboundMessagePayload.Cost.builder()
                                        .amount("amount")
                                        .currency("USD")
                                        .build()
                                )
                                .costBreakdown(
                                    OutboundMessagePayload.CostBreakdown.builder()
                                        .carrierFee(
                                            OutboundMessagePayload.CostBreakdown.CarrierFee
                                                .builder()
                                                .amount("amount")
                                                .currency("USD")
                                                .build()
                                        )
                                        .rate(
                                            OutboundMessagePayload.CostBreakdown.Rate.builder()
                                                .amount("amount")
                                                .currency("USD")
                                                .build()
                                        )
                                        .build()
                                )
                                .direction(OutboundMessagePayload.Direction.OUTBOUND)
                                .encoding("GSM-7")
                                .addError(
                                    MessagingError.builder()
                                        .code("code")
                                        .title("title")
                                        .detail("detail")
                                        .meta(JsonValue.from(mapOf<String, Any>()))
                                        .source(
                                            MessagingError.Source.builder()
                                                .parameter("parameter")
                                                .pointer("pointer")
                                                .build()
                                        )
                                        .build()
                                )
                                .from(
                                    OutboundMessagePayload.From.builder()
                                        .carrier("TELNYX LLC")
                                        .lineType(OutboundMessagePayload.From.LineType.VO_IP)
                                        .phoneNumber("+18445550001")
                                        .build()
                                )
                                .addMedia(
                                    OutboundMessagePayload.Media.builder()
                                        .contentType(null)
                                        .sha256(null)
                                        .size(null)
                                        .url(
                                            "https://pbs.twimg.com/profile_images/1142168442042118144/AW3F4fFD_400x400.png"
                                        )
                                        .build()
                                )
                                .messagingProfileId("4000eba1-a0c0-4563-9925-b25e842a7cb6")
                                .organizationId("b448f9cc-a842-4784-98e9-03c1a5872950")
                                .parts(1L)
                                .receivedAt(OffsetDateTime.parse("2019-01-23T18:10:02.574Z"))
                                .recordType(OutboundMessagePayload.RecordType.MESSAGE)
                                .sentAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                                .subject("From Telnyx!")
                                .addTag("Greetings")
                                .tcrCampaignBillable(true)
                                .tcrCampaignId("TCPA3X7")
                                .tcrCampaignRegistered("REGISTERED")
                                .text("Hello, World!")
                                .addTo(
                                    OutboundMessagePayload.To.builder()
                                        .carrier("T-MOBILE USA, INC.")
                                        .lineType(OutboundMessagePayload.To.LineType.WIRELESS)
                                        .phoneNumber("+18665550001")
                                        .status(OutboundMessagePayload.To.Status.QUEUED)
                                        .build()
                                )
                                .type(OutboundMessagePayload.Type.MMS)
                                .validUntil(null)
                                .webhookFailoverUrl("https://backup.example.com/hooks")
                                .webhookUrl("https://www.example.com/hooks")
                                .build()
                        )
                        .recordType(DeliveryUpdateWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .meta(
                    DeliveryUpdateWebhookEvent.Meta.builder()
                        .attempt(1L)
                        .deliveredTo("https://www.example.com/hooks")
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofDeliveryUpdate(deliveryUpdate)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).contains(deliveryUpdate)
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofDeliveryUpdateRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofDeliveryUpdate(
                DeliveryUpdateWebhookEvent.builder()
                    .data(
                        DeliveryUpdateWebhookEvent.Data.builder()
                            .id("86f58db9-0fe3-4adc-9d1f-46e66e6e9323")
                            .eventType(DeliveryUpdateWebhookEvent.Data.EventType.MESSAGE_SENT)
                            .occurredAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                            .payload(
                                OutboundMessagePayload.builder()
                                    .id("40385f64-5717-4562-b3fc-2c963f66afa6")
                                    .completedAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                                    .cost(
                                        OutboundMessagePayload.Cost.builder()
                                            .amount("amount")
                                            .currency("USD")
                                            .build()
                                    )
                                    .costBreakdown(
                                        OutboundMessagePayload.CostBreakdown.builder()
                                            .carrierFee(
                                                OutboundMessagePayload.CostBreakdown.CarrierFee
                                                    .builder()
                                                    .amount("amount")
                                                    .currency("USD")
                                                    .build()
                                            )
                                            .rate(
                                                OutboundMessagePayload.CostBreakdown.Rate.builder()
                                                    .amount("amount")
                                                    .currency("USD")
                                                    .build()
                                            )
                                            .build()
                                    )
                                    .direction(OutboundMessagePayload.Direction.OUTBOUND)
                                    .encoding("GSM-7")
                                    .addError(
                                        MessagingError.builder()
                                            .code("code")
                                            .title("title")
                                            .detail("detail")
                                            .meta(JsonValue.from(mapOf<String, Any>()))
                                            .source(
                                                MessagingError.Source.builder()
                                                    .parameter("parameter")
                                                    .pointer("pointer")
                                                    .build()
                                            )
                                            .build()
                                    )
                                    .from(
                                        OutboundMessagePayload.From.builder()
                                            .carrier("TELNYX LLC")
                                            .lineType(OutboundMessagePayload.From.LineType.VO_IP)
                                            .phoneNumber("+18445550001")
                                            .build()
                                    )
                                    .addMedia(
                                        OutboundMessagePayload.Media.builder()
                                            .contentType(null)
                                            .sha256(null)
                                            .size(null)
                                            .url(
                                                "https://pbs.twimg.com/profile_images/1142168442042118144/AW3F4fFD_400x400.png"
                                            )
                                            .build()
                                    )
                                    .messagingProfileId("4000eba1-a0c0-4563-9925-b25e842a7cb6")
                                    .organizationId("b448f9cc-a842-4784-98e9-03c1a5872950")
                                    .parts(1L)
                                    .receivedAt(OffsetDateTime.parse("2019-01-23T18:10:02.574Z"))
                                    .recordType(OutboundMessagePayload.RecordType.MESSAGE)
                                    .sentAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                                    .subject("From Telnyx!")
                                    .addTag("Greetings")
                                    .tcrCampaignBillable(true)
                                    .tcrCampaignId("TCPA3X7")
                                    .tcrCampaignRegistered("REGISTERED")
                                    .text("Hello, World!")
                                    .addTo(
                                        OutboundMessagePayload.To.builder()
                                            .carrier("T-MOBILE USA, INC.")
                                            .lineType(OutboundMessagePayload.To.LineType.WIRELESS)
                                            .phoneNumber("+18665550001")
                                            .status(OutboundMessagePayload.To.Status.QUEUED)
                                            .build()
                                    )
                                    .type(OutboundMessagePayload.Type.MMS)
                                    .validUntil(null)
                                    .webhookFailoverUrl("https://backup.example.com/hooks")
                                    .webhookUrl("https://www.example.com/hooks")
                                    .build()
                            )
                            .recordType(DeliveryUpdateWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .meta(
                        DeliveryUpdateWebhookEvent.Meta.builder()
                            .attempt(1L)
                            .deliveredTo("https://www.example.com/hooks")
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofFaxDelivered() {
        val faxDelivered =
            FaxDeliveredWebhookEvent.builder()
                .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                .eventType(FaxDeliveredWebhookEvent.EventType.FAX_DELIVERED)
                .payload(
                    FaxDeliveredWebhookEvent.Payload.builder()
                        .callDurationSecs(25L)
                        .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                        .connectionId("234423")
                        .direction(FaxDeliveredWebhookEvent.Payload.Direction.OUTBOUND)
                        .faxId("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .from("+13125790015")
                        .mediaName("my_media_uploaded_to_media_storage_api")
                        .originalMediaUrl(
                            "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
                        )
                        .pageCount(2L)
                        .status(FaxDeliveredWebhookEvent.Payload.Status.DELIVERED)
                        .to("+13127367276")
                        .userId("yfff7c54-4df3-4bca-a65a-3da1ecc777f0")
                        .build()
                )
                .recordType(FaxDeliveredWebhookEvent.RecordType.EVENT)
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofFaxDelivered(faxDelivered)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).contains(faxDelivered)
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofFaxDeliveredRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofFaxDelivered(
                FaxDeliveredWebhookEvent.builder()
                    .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                    .eventType(FaxDeliveredWebhookEvent.EventType.FAX_DELIVERED)
                    .payload(
                        FaxDeliveredWebhookEvent.Payload.builder()
                            .callDurationSecs(25L)
                            .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                            .connectionId("234423")
                            .direction(FaxDeliveredWebhookEvent.Payload.Direction.OUTBOUND)
                            .faxId("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .from("+13125790015")
                            .mediaName("my_media_uploaded_to_media_storage_api")
                            .originalMediaUrl(
                                "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
                            )
                            .pageCount(2L)
                            .status(FaxDeliveredWebhookEvent.Payload.Status.DELIVERED)
                            .to("+13127367276")
                            .userId("yfff7c54-4df3-4bca-a65a-3da1ecc777f0")
                            .build()
                    )
                    .recordType(FaxDeliveredWebhookEvent.RecordType.EVENT)
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofFaxFailed() {
        val faxFailed =
            FaxFailedWebhookEvent.builder()
                .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                .eventType(FaxFailedWebhookEvent.EventType.FAX_FAILED)
                .payload(
                    FaxFailedWebhookEvent.Payload.builder()
                        .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                        .connectionId("234423")
                        .direction(FaxFailedWebhookEvent.Payload.Direction.OUTBOUND)
                        .failureReason(FaxFailedWebhookEvent.Payload.FailureReason.REJECTED)
                        .faxId("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .from("+13125790015")
                        .mediaName("my_media_uploaded_to_media_storage_api")
                        .originalMediaUrl(
                            "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
                        )
                        .status(FaxFailedWebhookEvent.Payload.Status.FAILED)
                        .to("+13127367276")
                        .userId("yfff7c54-4df3-4bca-a65a-3da1ecc777f0")
                        .build()
                )
                .recordType(FaxFailedWebhookEvent.RecordType.EVENT)
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofFaxFailed(faxFailed)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).contains(faxFailed)
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofFaxFailedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofFaxFailed(
                FaxFailedWebhookEvent.builder()
                    .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                    .eventType(FaxFailedWebhookEvent.EventType.FAX_FAILED)
                    .payload(
                        FaxFailedWebhookEvent.Payload.builder()
                            .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                            .connectionId("234423")
                            .direction(FaxFailedWebhookEvent.Payload.Direction.OUTBOUND)
                            .failureReason(FaxFailedWebhookEvent.Payload.FailureReason.REJECTED)
                            .faxId("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .from("+13125790015")
                            .mediaName("my_media_uploaded_to_media_storage_api")
                            .originalMediaUrl(
                                "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
                            )
                            .status(FaxFailedWebhookEvent.Payload.Status.FAILED)
                            .to("+13127367276")
                            .userId("yfff7c54-4df3-4bca-a65a-3da1ecc777f0")
                            .build()
                    )
                    .recordType(FaxFailedWebhookEvent.RecordType.EVENT)
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofFaxMediaProcessed() {
        val faxMediaProcessed =
            FaxMediaProcessedWebhookEvent.builder()
                .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                .eventType(FaxMediaProcessedWebhookEvent.EventType.FAX_MEDIA_PROCESSED)
                .payload(
                    FaxMediaProcessedWebhookEvent.Payload.builder()
                        .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                        .connectionId("234423")
                        .direction(FaxMediaProcessedWebhookEvent.Payload.Direction.OUTBOUND)
                        .faxId("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .from("+13125790015")
                        .mediaName("my_media_uploaded_to_media_storage_api")
                        .originalMediaUrl(
                            "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
                        )
                        .status(FaxMediaProcessedWebhookEvent.Payload.Status.MEDIA_PROCESSED)
                        .to("+13127367276")
                        .userId("yfff7c54-4df3-4bca-a65a-3da1ecc777f0")
                        .build()
                )
                .recordType(FaxMediaProcessedWebhookEvent.RecordType.EVENT)
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofFaxMediaProcessed(faxMediaProcessed)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).contains(faxMediaProcessed)
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofFaxMediaProcessedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofFaxMediaProcessed(
                FaxMediaProcessedWebhookEvent.builder()
                    .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                    .eventType(FaxMediaProcessedWebhookEvent.EventType.FAX_MEDIA_PROCESSED)
                    .payload(
                        FaxMediaProcessedWebhookEvent.Payload.builder()
                            .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                            .connectionId("234423")
                            .direction(FaxMediaProcessedWebhookEvent.Payload.Direction.OUTBOUND)
                            .faxId("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .from("+13125790015")
                            .mediaName("my_media_uploaded_to_media_storage_api")
                            .originalMediaUrl(
                                "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
                            )
                            .status(FaxMediaProcessedWebhookEvent.Payload.Status.MEDIA_PROCESSED)
                            .to("+13127367276")
                            .userId("yfff7c54-4df3-4bca-a65a-3da1ecc777f0")
                            .build()
                    )
                    .recordType(FaxMediaProcessedWebhookEvent.RecordType.EVENT)
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofFaxQueued() {
        val faxQueued =
            FaxQueuedWebhookEvent.builder()
                .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                .eventType(FaxQueuedWebhookEvent.EventType.FAX_QUEUED)
                .payload(
                    FaxQueuedWebhookEvent.Payload.builder()
                        .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                        .connectionId("234423")
                        .direction(FaxQueuedWebhookEvent.Payload.Direction.OUTBOUND)
                        .faxId("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .from("+13125790015")
                        .mediaName("my_media_uploaded_to_media_storage_api")
                        .originalMediaUrl(
                            "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
                        )
                        .status(FaxQueuedWebhookEvent.Payload.Status.QUEUED)
                        .to("+13127367276")
                        .userId("yfff7c54-4df3-4bca-a65a-3da1ecc777f0")
                        .build()
                )
                .recordType(FaxQueuedWebhookEvent.RecordType.EVENT)
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofFaxQueued(faxQueued)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).contains(faxQueued)
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofFaxQueuedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofFaxQueued(
                FaxQueuedWebhookEvent.builder()
                    .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                    .eventType(FaxQueuedWebhookEvent.EventType.FAX_QUEUED)
                    .payload(
                        FaxQueuedWebhookEvent.Payload.builder()
                            .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                            .connectionId("234423")
                            .direction(FaxQueuedWebhookEvent.Payload.Direction.OUTBOUND)
                            .faxId("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .from("+13125790015")
                            .mediaName("my_media_uploaded_to_media_storage_api")
                            .originalMediaUrl(
                                "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
                            )
                            .status(FaxQueuedWebhookEvent.Payload.Status.QUEUED)
                            .to("+13127367276")
                            .userId("yfff7c54-4df3-4bca-a65a-3da1ecc777f0")
                            .build()
                    )
                    .recordType(FaxQueuedWebhookEvent.RecordType.EVENT)
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofFaxSendingStarted() {
        val faxSendingStarted =
            FaxSendingStartedWebhookEvent.builder()
                .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                .eventType(FaxSendingStartedWebhookEvent.EventType.FAX_SENDING_STARTED)
                .payload(
                    FaxSendingStartedWebhookEvent.Payload.builder()
                        .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                        .connectionId("234423")
                        .direction(FaxSendingStartedWebhookEvent.Payload.Direction.OUTBOUND)
                        .faxId("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .from("+13125790015")
                        .mediaName("my_media_uploaded_to_media_storage_api")
                        .originalMediaUrl(
                            "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
                        )
                        .status(FaxSendingStartedWebhookEvent.Payload.Status.SENDING)
                        .to("+13127367276")
                        .userId("yfff7c54-4df3-4bca-a65a-3da1ecc777f0")
                        .build()
                )
                .recordType(FaxSendingStartedWebhookEvent.RecordType.EVENT)
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofFaxSendingStarted(faxSendingStarted)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).contains(faxSendingStarted)
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofFaxSendingStartedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofFaxSendingStarted(
                FaxSendingStartedWebhookEvent.builder()
                    .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                    .eventType(FaxSendingStartedWebhookEvent.EventType.FAX_SENDING_STARTED)
                    .payload(
                        FaxSendingStartedWebhookEvent.Payload.builder()
                            .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                            .connectionId("234423")
                            .direction(FaxSendingStartedWebhookEvent.Payload.Direction.OUTBOUND)
                            .faxId("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .from("+13125790015")
                            .mediaName("my_media_uploaded_to_media_storage_api")
                            .originalMediaUrl(
                                "https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"
                            )
                            .status(FaxSendingStartedWebhookEvent.Payload.Status.SENDING)
                            .to("+13127367276")
                            .userId("yfff7c54-4df3-4bca-a65a-3da1ecc777f0")
                            .build()
                    )
                    .recordType(FaxSendingStartedWebhookEvent.RecordType.EVENT)
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofInboundMessage() {
        val inboundMessage =
            InboundMessageWebhookEvent.builder()
                .data(
                    InboundMessageWebhookEvent.Data.builder()
                        .id("bf6307bd-884d-4c1f-b6ea-c62b8c495d3c")
                        .eventType(InboundMessageWebhookEvent.Data.EventType.MESSAGE_RECEIVED)
                        .occurredAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                        .payload(
                            InboundMessageWebhookEvent.Data.Payload.builder()
                                .id("7ee4241c-f127-47e5-9c34-3aac291f8058")
                                .addCc(
                                    InboundMessageWebhookEvent.Data.Payload.Cc.builder()
                                        .carrier("carrier")
                                        .lineType(
                                            InboundMessageWebhookEvent.Data.Payload.Cc.LineType
                                                .WIRELINE
                                        )
                                        .phoneNumber("phone_number")
                                        .status(
                                            InboundMessageWebhookEvent.Data.Payload.Cc.Status.QUEUED
                                        )
                                        .build()
                                )
                                .completedAt(null)
                                .cost(
                                    InboundMessageWebhookEvent.Data.Payload.Cost.builder()
                                        .amount("amount")
                                        .currency("USD")
                                        .build()
                                )
                                .costBreakdown(
                                    InboundMessageWebhookEvent.Data.Payload.CostBreakdown.builder()
                                        .carrierFee(
                                            InboundMessageWebhookEvent.Data.Payload.CostBreakdown
                                                .CarrierFee
                                                .builder()
                                                .amount("amount")
                                                .currency("USD")
                                                .build()
                                        )
                                        .rate(
                                            InboundMessageWebhookEvent.Data.Payload.CostBreakdown
                                                .Rate
                                                .builder()
                                                .amount("amount")
                                                .currency("USD")
                                                .build()
                                        )
                                        .build()
                                )
                                .direction(
                                    InboundMessageWebhookEvent.Data.Payload.Direction.INBOUND
                                )
                                .encoding("GSM-7")
                                .addError(
                                    MessagingError.builder()
                                        .code("code")
                                        .title("title")
                                        .detail("detail")
                                        .meta(JsonValue.from(mapOf<String, Any>()))
                                        .source(
                                            MessagingError.Source.builder()
                                                .parameter("parameter")
                                                .pointer("pointer")
                                                .build()
                                        )
                                        .build()
                                )
                                .from(
                                    InboundMessageWebhookEvent.Data.Payload.From.builder()
                                        .carrier("T-MOBILE USA, INC.")
                                        .lineType(
                                            InboundMessageWebhookEvent.Data.Payload.From.LineType
                                                .WIRELESS
                                        )
                                        .phoneNumber("+18665550001")
                                        .status(
                                            InboundMessageWebhookEvent.Data.Payload.From.Status
                                                .RECEIVED
                                        )
                                        .build()
                                )
                                .addMedia(
                                    InboundMessageWebhookEvent.Data.Payload.Media.builder()
                                        .contentType("content_type")
                                        .hashSha256("xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")
                                        .size(0L)
                                        .url("url")
                                        .build()
                                )
                                .messagingProfileId("0f512bda-ae1e-4597-8e11-e5f5686b97d3")
                                .parts(1L)
                                .receivedAt(OffsetDateTime.parse("2019-01-23T18:10:02.574Z"))
                                .recordType(
                                    InboundMessageWebhookEvent.Data.Payload.RecordType.MESSAGE
                                )
                                .sentAt(null)
                                .addTag("Greetings")
                                .tcrCampaignBillable(true)
                                .tcrCampaignId("TCPA3X7")
                                .tcrCampaignRegistered("REGISTERED")
                                .text("Hello, World!")
                                .addTo(
                                    InboundMessageWebhookEvent.Data.Payload.To.builder()
                                        .carrier("TELNYX LLC")
                                        .lineType(
                                            InboundMessageWebhookEvent.Data.Payload.To.LineType
                                                .VO_IP
                                        )
                                        .phoneNumber("+18445550001")
                                        .status(
                                            InboundMessageWebhookEvent.Data.Payload.To.Status
                                                .DELIVERED
                                        )
                                        .build()
                                )
                                .type(InboundMessageWebhookEvent.Data.Payload.Type.SMS)
                                .validUntil(null)
                                .webhookFailoverUrl("https://backup.example.com/hooks")
                                .webhookUrl("https://www.example.com/hooks")
                                .build()
                        )
                        .recordType(InboundMessageWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofInboundMessage(inboundMessage)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).contains(inboundMessage)
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofInboundMessageRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofInboundMessage(
                InboundMessageWebhookEvent.builder()
                    .data(
                        InboundMessageWebhookEvent.Data.builder()
                            .id("bf6307bd-884d-4c1f-b6ea-c62b8c495d3c")
                            .eventType(InboundMessageWebhookEvent.Data.EventType.MESSAGE_RECEIVED)
                            .occurredAt(OffsetDateTime.parse("2019-12-27T18:11:19.117Z"))
                            .payload(
                                InboundMessageWebhookEvent.Data.Payload.builder()
                                    .id("7ee4241c-f127-47e5-9c34-3aac291f8058")
                                    .addCc(
                                        InboundMessageWebhookEvent.Data.Payload.Cc.builder()
                                            .carrier("carrier")
                                            .lineType(
                                                InboundMessageWebhookEvent.Data.Payload.Cc.LineType
                                                    .WIRELINE
                                            )
                                            .phoneNumber("phone_number")
                                            .status(
                                                InboundMessageWebhookEvent.Data.Payload.Cc.Status
                                                    .QUEUED
                                            )
                                            .build()
                                    )
                                    .completedAt(null)
                                    .cost(
                                        InboundMessageWebhookEvent.Data.Payload.Cost.builder()
                                            .amount("amount")
                                            .currency("USD")
                                            .build()
                                    )
                                    .costBreakdown(
                                        InboundMessageWebhookEvent.Data.Payload.CostBreakdown
                                            .builder()
                                            .carrierFee(
                                                InboundMessageWebhookEvent.Data.Payload
                                                    .CostBreakdown
                                                    .CarrierFee
                                                    .builder()
                                                    .amount("amount")
                                                    .currency("USD")
                                                    .build()
                                            )
                                            .rate(
                                                InboundMessageWebhookEvent.Data.Payload
                                                    .CostBreakdown
                                                    .Rate
                                                    .builder()
                                                    .amount("amount")
                                                    .currency("USD")
                                                    .build()
                                            )
                                            .build()
                                    )
                                    .direction(
                                        InboundMessageWebhookEvent.Data.Payload.Direction.INBOUND
                                    )
                                    .encoding("GSM-7")
                                    .addError(
                                        MessagingError.builder()
                                            .code("code")
                                            .title("title")
                                            .detail("detail")
                                            .meta(JsonValue.from(mapOf<String, Any>()))
                                            .source(
                                                MessagingError.Source.builder()
                                                    .parameter("parameter")
                                                    .pointer("pointer")
                                                    .build()
                                            )
                                            .build()
                                    )
                                    .from(
                                        InboundMessageWebhookEvent.Data.Payload.From.builder()
                                            .carrier("T-MOBILE USA, INC.")
                                            .lineType(
                                                InboundMessageWebhookEvent.Data.Payload.From
                                                    .LineType
                                                    .WIRELESS
                                            )
                                            .phoneNumber("+18665550001")
                                            .status(
                                                InboundMessageWebhookEvent.Data.Payload.From.Status
                                                    .RECEIVED
                                            )
                                            .build()
                                    )
                                    .addMedia(
                                        InboundMessageWebhookEvent.Data.Payload.Media.builder()
                                            .contentType("content_type")
                                            .hashSha256("xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")
                                            .size(0L)
                                            .url("url")
                                            .build()
                                    )
                                    .messagingProfileId("0f512bda-ae1e-4597-8e11-e5f5686b97d3")
                                    .parts(1L)
                                    .receivedAt(OffsetDateTime.parse("2019-01-23T18:10:02.574Z"))
                                    .recordType(
                                        InboundMessageWebhookEvent.Data.Payload.RecordType.MESSAGE
                                    )
                                    .sentAt(null)
                                    .addTag("Greetings")
                                    .tcrCampaignBillable(true)
                                    .tcrCampaignId("TCPA3X7")
                                    .tcrCampaignRegistered("REGISTERED")
                                    .text("Hello, World!")
                                    .addTo(
                                        InboundMessageWebhookEvent.Data.Payload.To.builder()
                                            .carrier("TELNYX LLC")
                                            .lineType(
                                                InboundMessageWebhookEvent.Data.Payload.To.LineType
                                                    .VO_IP
                                            )
                                            .phoneNumber("+18445550001")
                                            .status(
                                                InboundMessageWebhookEvent.Data.Payload.To.Status
                                                    .DELIVERED
                                            )
                                            .build()
                                    )
                                    .type(InboundMessageWebhookEvent.Data.Payload.Type.SMS)
                                    .validUntil(null)
                                    .webhookFailoverUrl("https://backup.example.com/hooks")
                                    .webhookUrl("https://www.example.com/hooks")
                                    .build()
                            )
                            .recordType(InboundMessageWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofNumberOrderStatusUpdate() {
        val numberOrderStatusUpdate =
            NumberOrderStatusUpdateWebhookEvent.builder()
                .data(
                    NumberOrderStatusUpdateWebhookEvent.Data.builder()
                        .id("d578b093-a0e7-4b64-b0d3-6b689a6ff170")
                        .eventType("number_order.complete")
                        .occurredAt(OffsetDateTime.parse("2025-08-22T16:23:54.496464Z"))
                        .payload(
                            NumberOrderWithPhoneNumbers.builder()
                                .id("12ade33a-21c0-473b-b055-b3c836e1c292")
                                .billingGroupId("abc85f64-5717-4562-b3fc-2c9600")
                                .connectionId("346789098765567")
                                .createdAt(OffsetDateTime.parse("2018-01-01T00:00:00.000000Z"))
                                .customerReference("MY REF 001")
                                .messagingProfileId("abc85f64-5717-4562-b3fc-2c9600")
                                .addPhoneNumber(
                                    PhoneNumber.builder()
                                        .id("dc8e4d67-33a0-4cbb-af74-7b58f05bd494")
                                        .bundleId("bc8e4d67-33a0-4cbb-af74-7b58f05bd474")
                                        .countryCode("US")
                                        .countryIsoAlpha2("US")
                                        .phoneNumber("+19705555098")
                                        .phoneNumberType(PhoneNumber.PhoneNumberType.LOCAL)
                                        .recordType("number_order_phone_number")
                                        .addRegulatoryRequirement(
                                            SubNumberOrderRegulatoryRequirementWithValue.builder()
                                                .fieldType(
                                                    SubNumberOrderRegulatoryRequirementWithValue
                                                        .FieldType
                                                        .ADDRESS
                                                )
                                                .fieldValue("45f45a04-b4be-4592-95b1-9306b9db2b21")
                                                .recordType("phone_number_regulatory_requirement")
                                                .requirementId(
                                                    "8ffb3622-7c6b-4ccc-b65f-7a3dc0099576"
                                                )
                                                .build()
                                        )
                                        .requirementsMet(true)
                                        .requirementsStatus(PhoneNumber.RequirementsStatus.PENDING)
                                        .status(PhoneNumber.Status.SUCCESS)
                                        .build()
                                )
                                .phoneNumbersCount(1L)
                                .recordType("number_order")
                                .requirementsMet(true)
                                .status(NumberOrderWithPhoneNumbers.Status.PENDING)
                                .addSubNumberOrdersId("string")
                                .updatedAt(OffsetDateTime.parse("2018-01-01T00:00:00.000000Z"))
                                .build()
                        )
                        .recordType("event")
                        .build()
                )
                .meta(
                    NumberOrderStatusUpdateWebhookEvent.Meta.builder()
                        .attempt(1L)
                        .deliveredTo("https://sample-api.com/webhook")
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofNumberOrderStatusUpdate(numberOrderStatusUpdate)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate())
            .contains(numberOrderStatusUpdate)
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofNumberOrderStatusUpdateRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofNumberOrderStatusUpdate(
                NumberOrderStatusUpdateWebhookEvent.builder()
                    .data(
                        NumberOrderStatusUpdateWebhookEvent.Data.builder()
                            .id("d578b093-a0e7-4b64-b0d3-6b689a6ff170")
                            .eventType("number_order.complete")
                            .occurredAt(OffsetDateTime.parse("2025-08-22T16:23:54.496464Z"))
                            .payload(
                                NumberOrderWithPhoneNumbers.builder()
                                    .id("12ade33a-21c0-473b-b055-b3c836e1c292")
                                    .billingGroupId("abc85f64-5717-4562-b3fc-2c9600")
                                    .connectionId("346789098765567")
                                    .createdAt(OffsetDateTime.parse("2018-01-01T00:00:00.000000Z"))
                                    .customerReference("MY REF 001")
                                    .messagingProfileId("abc85f64-5717-4562-b3fc-2c9600")
                                    .addPhoneNumber(
                                        PhoneNumber.builder()
                                            .id("dc8e4d67-33a0-4cbb-af74-7b58f05bd494")
                                            .bundleId("bc8e4d67-33a0-4cbb-af74-7b58f05bd474")
                                            .countryCode("US")
                                            .countryIsoAlpha2("US")
                                            .phoneNumber("+19705555098")
                                            .phoneNumberType(PhoneNumber.PhoneNumberType.LOCAL)
                                            .recordType("number_order_phone_number")
                                            .addRegulatoryRequirement(
                                                SubNumberOrderRegulatoryRequirementWithValue
                                                    .builder()
                                                    .fieldType(
                                                        SubNumberOrderRegulatoryRequirementWithValue
                                                            .FieldType
                                                            .ADDRESS
                                                    )
                                                    .fieldValue(
                                                        "45f45a04-b4be-4592-95b1-9306b9db2b21"
                                                    )
                                                    .recordType(
                                                        "phone_number_regulatory_requirement"
                                                    )
                                                    .requirementId(
                                                        "8ffb3622-7c6b-4ccc-b65f-7a3dc0099576"
                                                    )
                                                    .build()
                                            )
                                            .requirementsMet(true)
                                            .requirementsStatus(
                                                PhoneNumber.RequirementsStatus.PENDING
                                            )
                                            .status(PhoneNumber.Status.SUCCESS)
                                            .build()
                                    )
                                    .phoneNumbersCount(1L)
                                    .recordType("number_order")
                                    .requirementsMet(true)
                                    .status(NumberOrderWithPhoneNumbers.Status.PENDING)
                                    .addSubNumberOrdersId("string")
                                    .updatedAt(OffsetDateTime.parse("2018-01-01T00:00:00.000000Z"))
                                    .build()
                            )
                            .recordType("event")
                            .build()
                    )
                    .meta(
                        NumberOrderStatusUpdateWebhookEvent.Meta.builder()
                            .attempt(1L)
                            .deliveredTo("https://sample-api.com/webhook")
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofReplacedLinkClick() {
        val replacedLinkClick =
            ReplacedLinkClickWebhookEvent.builder()
                .data(
                    ReplacedLinkClickWebhookEvent.Data.builder()
                        .messageId("7ee4241c-f127-47e5-9c34-3aac291f8058")
                        .recordType("link_clicked")
                        .timeClicked(OffsetDateTime.parse("2019-04-01T14:45:45.450Z"))
                        .to("18445550001")
                        .url("https://telnyx.com")
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofReplacedLinkClick(replacedLinkClick)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).contains(replacedLinkClick)
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofReplacedLinkClickRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofReplacedLinkClick(
                ReplacedLinkClickWebhookEvent.builder()
                    .data(
                        ReplacedLinkClickWebhookEvent.Data.builder()
                            .messageId("7ee4241c-f127-47e5-9c34-3aac291f8058")
                            .recordType("link_clicked")
                            .timeClicked(OffsetDateTime.parse("2019-04-01T14:45:45.450Z"))
                            .to("18445550001")
                            .url("https://telnyx.com")
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofStreamingFailed() {
        val streamingFailed =
            StreamingFailedWebhookEvent.builder()
                .data(
                    StreamingFailedWebhookEvent.Data.builder()
                        .id("25dc3731-e51e-4927-a50d-a61cc25984b1")
                        .eventType(StreamingFailedWebhookEvent.Data.EventType.STREAMING_FAILED)
                        .occurredAt(OffsetDateTime.parse("2021-12-15T14:11:24.613295Z"))
                        .payload(
                            StreamingFailedWebhookEvent.Data.Payload.builder()
                                .callControlId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .callLegId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .callSessionId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .failureReason("connection_failed")
                                .streamId("1edb94f9-7ef0-4150-b502-e0ebadfd9491")
                                .streamParams(
                                    StreamingFailedWebhookEvent.Data.Payload.StreamParams.builder()
                                        .streamUrl("wss://www.example.com/websocket")
                                        .track(
                                            StreamingFailedWebhookEvent.Data.Payload.StreamParams
                                                .Track
                                                .INBOUND_TRACK
                                        )
                                        .build()
                                )
                                .streamType(
                                    StreamingFailedWebhookEvent.Data.Payload.StreamType.WEBSOCKET
                                )
                                .build()
                        )
                        .recordType(StreamingFailedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofStreamingFailed(streamingFailed)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).contains(streamingFailed)
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofStreamingFailedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofStreamingFailed(
                StreamingFailedWebhookEvent.builder()
                    .data(
                        StreamingFailedWebhookEvent.Data.builder()
                            .id("25dc3731-e51e-4927-a50d-a61cc25984b1")
                            .eventType(StreamingFailedWebhookEvent.Data.EventType.STREAMING_FAILED)
                            .occurredAt(OffsetDateTime.parse("2021-12-15T14:11:24.613295Z"))
                            .payload(
                                StreamingFailedWebhookEvent.Data.Payload.builder()
                                    .callControlId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .callLegId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .callSessionId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .failureReason("connection_failed")
                                    .streamId("1edb94f9-7ef0-4150-b502-e0ebadfd9491")
                                    .streamParams(
                                        StreamingFailedWebhookEvent.Data.Payload.StreamParams
                                            .builder()
                                            .streamUrl("wss://www.example.com/websocket")
                                            .track(
                                                StreamingFailedWebhookEvent.Data.Payload
                                                    .StreamParams
                                                    .Track
                                                    .INBOUND_TRACK
                                            )
                                            .build()
                                    )
                                    .streamType(
                                        StreamingFailedWebhookEvent.Data.Payload.StreamType
                                            .WEBSOCKET
                                    )
                                    .build()
                            )
                            .recordType(StreamingFailedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofStreamingStarted() {
        val streamingStarted =
            StreamingStartedWebhookEvent.builder()
                .data(
                    StreamingStartedWebhookEvent.Data.builder()
                        .id("7d743d69-f7e8-4761-b7d4-8cacf9d3c031")
                        .eventType(StreamingStartedWebhookEvent.Data.EventType.STREAMING_STARTED)
                        .occurredAt(OffsetDateTime.parse("2021-12-15T14:06:32.059436Z"))
                        .payload(
                            StreamingStartedWebhookEvent.Data.Payload.builder()
                                .callControlId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .callLegId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .callSessionId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .streamUrl("wss://www.example.com/websocket")
                                .build()
                        )
                        .recordType(StreamingStartedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofStreamingStarted(streamingStarted)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).contains(streamingStarted)
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofStreamingStartedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofStreamingStarted(
                StreamingStartedWebhookEvent.builder()
                    .data(
                        StreamingStartedWebhookEvent.Data.builder()
                            .id("7d743d69-f7e8-4761-b7d4-8cacf9d3c031")
                            .eventType(
                                StreamingStartedWebhookEvent.Data.EventType.STREAMING_STARTED
                            )
                            .occurredAt(OffsetDateTime.parse("2021-12-15T14:06:32.059436Z"))
                            .payload(
                                StreamingStartedWebhookEvent.Data.Payload.builder()
                                    .callControlId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .callLegId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .callSessionId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .streamUrl("wss://www.example.com/websocket")
                                    .build()
                            )
                            .recordType(StreamingStartedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofStreamingStopped() {
        val streamingStopped =
            StreamingStoppedWebhookEvent.builder()
                .data(
                    StreamingStoppedWebhookEvent.Data.builder()
                        .id("25dc3731-e51e-4927-a50d-a61cc25984b1")
                        .eventType(StreamingStoppedWebhookEvent.Data.EventType.STREAMING_STOPPED)
                        .occurredAt(OffsetDateTime.parse("2021-12-15T14:11:24.613295Z"))
                        .payload(
                            StreamingStoppedWebhookEvent.Data.Payload.builder()
                                .callControlId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .callLegId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .callSessionId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                .connectionId("7267xxxxxxxxxxxxxx")
                                .streamUrl("wss://www.example.com/websocket")
                                .build()
                        )
                        .recordType(StreamingStoppedWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofStreamingStopped(streamingStopped)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).contains(streamingStopped)
        assertThat(unsafeUnwrapWebhookEvent.transcription()).isEmpty
    }

    @Test
    fun ofStreamingStoppedRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofStreamingStopped(
                StreamingStoppedWebhookEvent.builder()
                    .data(
                        StreamingStoppedWebhookEvent.Data.builder()
                            .id("25dc3731-e51e-4927-a50d-a61cc25984b1")
                            .eventType(
                                StreamingStoppedWebhookEvent.Data.EventType.STREAMING_STOPPED
                            )
                            .occurredAt(OffsetDateTime.parse("2021-12-15T14:11:24.613295Z"))
                            .payload(
                                StreamingStoppedWebhookEvent.Data.Payload.builder()
                                    .callControlId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .callLegId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .callSessionId("31f19208-5db0-11ec-9ea7-02420a0d3a69")
                                    .clientState("aGF2ZSBhIG5pY2UgZGF5ID1d")
                                    .connectionId("7267xxxxxxxxxxxxxx")
                                    .streamUrl("wss://www.example.com/websocket")
                                    .build()
                            )
                            .recordType(StreamingStoppedWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    @Test
    fun ofTranscription() {
        val transcription =
            TranscriptionWebhookEvent.builder()
                .data(
                    TranscriptionWebhookEvent.Data.builder()
                        .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                        .eventType(TranscriptionWebhookEvent.Data.EventType.CALL_TRANSCRIPTION)
                        .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                        .payload(
                            TranscriptionWebhookEvent.Data.Payload.builder()
                                .callControlId(
                                    "v2:7subYr8fLrXmaAXm8egeAMpoSJ72J3SGPUuome81-hQuaKRf9b7hKA"
                                )
                                .callLegId("5ca81340-5beb-11eb-ae45-02420a0f8b69")
                                .callSessionId("5ca81eee-5beb-11eb-ba6c-02420a0f8b69")
                                .clientState("client_state")
                                .connectionId("1240401930086254526")
                                .transcriptionData(
                                    TranscriptionWebhookEvent.Data.Payload.TranscriptionData
                                        .builder()
                                        .confidence(0.977219)
                                        .isFinal(true)
                                        .transcript("hello this is a test speech")
                                        .transcriptionTrack(
                                            TranscriptionWebhookEvent.Data.Payload.TranscriptionData
                                                .TranscriptionTrack
                                                .INBOUND
                                        )
                                        .build()
                                )
                                .build()
                        )
                        .recordType(TranscriptionWebhookEvent.Data.RecordType.EVENT)
                        .build()
                )
                .build()

        val unsafeUnwrapWebhookEvent = UnsafeUnwrapWebhookEvent.ofTranscription(transcription)

        assertThat(unsafeUnwrapWebhookEvent.callAiGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherMessageHistoryUpdated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAiGatherPartialResults()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.customerServiceRecordStatusChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callAnswered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callBridged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callConversationInsightsGenerated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callDtmfReceived()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callEnqueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callForkStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callGatherEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callHangup()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callInitiated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callLeftQueue()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachineGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumDetectionEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callMachinePremiumGreetingEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingError()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callRecordingTranscriptionSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferCompleted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callReferStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSiprecStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.callStreamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.campaignStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceCreated()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceFloorChanged()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantJoined()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantLeft()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantPlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceParticipantSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferencePlaybackStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceRecordingSaved()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakEnded()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.conferenceSpeakStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.deliveryUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxDelivered()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxMediaProcessed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxQueued()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.faxSendingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.inboundMessage()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.numberOrderStatusUpdate()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.replacedLinkClick()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingFailed()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStarted()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.streamingStopped()).isEmpty
        assertThat(unsafeUnwrapWebhookEvent.transcription()).contains(transcription)
    }

    @Test
    fun ofTranscriptionRoundtrip() {
        val jsonMapper = jsonMapper()
        val unsafeUnwrapWebhookEvent =
            UnsafeUnwrapWebhookEvent.ofTranscription(
                TranscriptionWebhookEvent.builder()
                    .data(
                        TranscriptionWebhookEvent.Data.builder()
                            .id("0ccc7b54-4df3-4bca-a65a-3da1ecc777f0")
                            .eventType(TranscriptionWebhookEvent.Data.EventType.CALL_TRANSCRIPTION)
                            .occurredAt(OffsetDateTime.parse("2018-02-02T22:25:27.521992Z"))
                            .payload(
                                TranscriptionWebhookEvent.Data.Payload.builder()
                                    .callControlId(
                                        "v2:7subYr8fLrXmaAXm8egeAMpoSJ72J3SGPUuome81-hQuaKRf9b7hKA"
                                    )
                                    .callLegId("5ca81340-5beb-11eb-ae45-02420a0f8b69")
                                    .callSessionId("5ca81eee-5beb-11eb-ba6c-02420a0f8b69")
                                    .clientState("client_state")
                                    .connectionId("1240401930086254526")
                                    .transcriptionData(
                                        TranscriptionWebhookEvent.Data.Payload.TranscriptionData
                                            .builder()
                                            .confidence(0.977219)
                                            .isFinal(true)
                                            .transcript("hello this is a test speech")
                                            .transcriptionTrack(
                                                TranscriptionWebhookEvent.Data.Payload
                                                    .TranscriptionData
                                                    .TranscriptionTrack
                                                    .INBOUND
                                            )
                                            .build()
                                    )
                                    .build()
                            )
                            .recordType(TranscriptionWebhookEvent.Data.RecordType.EVENT)
                            .build()
                    )
                    .build()
            )

        val roundtrippedUnsafeUnwrapWebhookEvent =
            jsonMapper.readValue(
                jsonMapper.writeValueAsString(unsafeUnwrapWebhookEvent),
                jacksonTypeRef<UnsafeUnwrapWebhookEvent>(),
            )

        assertThat(roundtrippedUnsafeUnwrapWebhookEvent).isEqualTo(unsafeUnwrapWebhookEvent)
    }

    enum class IncompatibleJsonShapeTestCase(val value: JsonValue) {
        BOOLEAN(JsonValue.from(false)),
        STRING(JsonValue.from("invalid")),
        INTEGER(JsonValue.from(-1)),
        FLOAT(JsonValue.from(3.14)),
        ARRAY(JsonValue.from(listOf("invalid", "array"))),
    }

    @ParameterizedTest
    @EnumSource
    fun incompatibleJsonShapeDeserializesToUnknown(testCase: IncompatibleJsonShapeTestCase) {
        val unsafeUnwrapWebhookEvent =
            jsonMapper().convertValue(testCase.value, jacksonTypeRef<UnsafeUnwrapWebhookEvent>())

        val e = assertThrows<TelnyxInvalidDataException> { unsafeUnwrapWebhookEvent.validate() }
        assertThat(e).hasMessageStartingWith("Unknown ")
    }
}
